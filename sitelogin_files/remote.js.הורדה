(function(g){var window=this;'use strict';var yiZ=function(C,F){return g.c1(C,F)},oC$=function(C){if(C instanceof g.$t)return C;
if(typeof C.Y8=="function")return C.Y8(!1);if(g.tP(C)){let F=0;const q=new g.$t;q.next=function(){for(;;){if(F>=C.length)return g.rF;if(F in C)return g.mw(C[F++]);F++}};
return q}throw Error("Not implemented");},kNB=function(C,F,q){if(g.tP(C))g.Eq(C,F,q);
else for(C=oC$(C);;){const {done:p,value:d}=C.next();if(p)break;F.call(q,d,void 0,C)}},dU=function(C){g.Rk(C,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.mo()).toString(36));
return C},RU=function(C,F,q){Array.isArray(q)||(q=[String(q)]);
g.u1(C.B,F,q)},ECO=function(C,F){const q=[];
kNB(F,function(p){let d;try{d=g.k_.prototype.ot.call(this,p,!0)}catch(R){if(R=="Storage: Invalid value was encountered")return;throw R;}d===void 0?q.push(p):g.oP(d)&&q.push(p)},C);
return q},WlZ=function(C,F){ECO(C,F).forEach(function(q){g.k_.prototype.remove.call(this,q)},C)},Aiw=function(C){if(C.t_){if(C.t_.locationOverrideToken)return{locationOverrideToken:C.t_.locationOverrideToken};
if(C.t_.latitudeE7!=null&&C.t_.longitudeE7!=null)return{latitudeE7:C.t_.latitudeE7,longitudeE7:C.t_.longitudeE7}}return null},UmO=function(C,F){g.CZ(C,F)||C.push(F)},vs=function(C){let F=0;
for(const q in C)F++;return F},QuB=function(C){try{return g.VU.JSON.parse(C)}catch(F){}C=String(C);
if(/^\s*$/.test(C)?0:/^[\],:{}\s\u2028\u2029]*$/.test(C.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+C+")")}catch(F){}throw Error("Invalid JSON string: "+C);},X4=function(C){if(g.VU.JSON)try{return g.VU.JSON.parse(C)}catch(F){}return QuB(C)},Mb8=function(C,F,q,p){const d=new g.Io(null);
C&&g.j3(d,C);F&&g.Cy(d,F);q&&g.i1(d,q);p&&(d.U=p);return d},Ll$=function(C,F){return new g.bao(C,F)},Jw=function(C,F){return Object.prototype.hasOwnProperty.call(C,F)},zZB=function(C,F){return C===F},SO=function(C,F){this.U={};
this.J=[];this.bf=this.size=0;var q=arguments.length;if(q>1){if(q%2)throw Error("Uneven number of arguments");for(var p=0;p<q;p+=2)this.set(arguments[p],arguments[p+1])}else if(C)if(C instanceof SO)for(q=C.Ua(),p=0;p<q.length;p++)this.set(q[p],C.get(q[p]));else for(p in C)this.set(p,C[p])},ux=function(C){if(C.size!=C.J.length){for(var F=0,q=0;F<C.J.length;){var p=C.J[F];
Jw(C.U,p)&&(C.J[q++]=p);F++}C.J.length=q}if(C.size!=C.J.length){F={};for(p=q=0;q<C.J.length;){const d=C.J[q];Jw(F,d)||(C.J[p++]=d,F[d]=1);q++}C.J.length=p}},wU=function(C){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new SO;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";C&&(this.id=C.id||C.name,this.name=C.name,this.clientName=C.clientName?C.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=C.app,this.type=C.type||"REMOTE_CONTROL",this.username=C.user||"",this.avatar=C.userAvatarUri||"",this.obfuscatedGaiaId=C.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=C.ownerObfuscatedGaiaId||"",this.theme=C.theme||"u",xm$(this,C.capabilities||""),gCk(this,C.compatibleSenderThemes||""),I61(this,C.experiments||""),this.brand=C.brand||"",this.model=C.model||"",this.year=C.year||0,this.os=C.os||"",this.osVersion=C.osVersion||"",this.chipset=C.chipset||"",this.mdxDialServerType=C.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",C=C.deviceInfo)&&(C=JSON.parse(C),this.brand=C.brand||"",this.model=C.model||"",this.year=C.year||0,this.os=C.os||"",this.osVersion=C.osVersion||"",this.chipset=C.chipset||"",this.clientName=C.clientName?C.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=C.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},xm$=function(C,F){C.capabilities.clear();
g.Wz(F.split(","),g.hP(yiZ,j9N)).forEach(q=>{C.capabilities.add(q)})},gCk=function(C,F){C.compatibleSenderThemes.clear();
g.Wz(F.split(","),g.hP(yiZ,C7y)).forEach(q=>{C.compatibleSenderThemes.add(q)})},I61=function(C,F){C.experiments.clear();
F.split(",").forEach(q=>{C.experiments.add(q)})},n3=function(C){C=C||{};
this.name=C.name||"";this.id=C.id||C.screenId||"";this.token=C.token||C.loungeToken||"";this.uuid=C.uuid||C.dialId||"";this.idType=C.screenIdType||"normal";this.secret=C.screenIdSecret||""},D1=function(C,F){return!!F&&(C.id==F||C.uuid==F)},iF8=function(C){return{name:C.name,
screenId:C.id,loungeToken:C.token,dialId:C.uuid,screenIdType:C.idType,screenIdSecret:C.secret}},Fw8=function(C){return new n3(C)},qjM=function(C){return Array.isArray(C)?g.AP(C,Fw8):[]},Vw=function(C){return C?`{name:"${C.name}",id:${C.id.substr(0,6)}..,token:${C.token?".."+C.token.slice(-6):"-"},uuid:${C.uuid?".."+C.uuid.slice(-6):"-"},idType:${C.idType},secret:${C.secret?".."+C.secret.slice(-6):"-"}}`:"null"},No=function(C){return Array.isArray(C)?"["+g.AP(C,Vw).join(",")+"]":"null"},lx=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(C){const F=Math.random()*16|0;
return(C=="x"?F:F&3|8).toString(16)})},pZi=function(C){return g.AP(C,function(F){return{key:F.id,
name:F.name}})},f3=function(C,F){return g.gS(C,function(q){return q||F?!q!=!F?!1:q.id==F.id:!0})},TS=function(C,F){return g.gS(C,function(q){return D1(q,F)})},djw=function(){const C=g.jF.uM();
C&&WlZ(C,C.BW.Y8(!0))},Ps=function(){const C=g.iD("yt-remote-connected-devices")||[];
g.P1(C);return C},R6O=function(C){if(C.length==0)return[];
const F=C[0].indexOf("#"),q=F==-1?C[0]:C[0].substring(0,F);return g.AP(C,function(p,d){return d==0?p:p.substring(q.length)})},vtN=function(C){g.CT("yt-remote-connected-devices",C,86400)},aU=function(){if(tw)return tw;
let C=g.iD("yt-remote-device-id");C||(C=lx(),g.CT("yt-remote-device-id",C,31536E3));const F=Ps();let q=1,p=C;for(;g.CZ(F,p);)q++,p=C+"#"+q;return tw=p},Y1=function(){let C=Ps();
const F=aU();g.qr()&&g.aN(C,F);C=R6O(C);if(C.length==0)try{g.RT("remote_sid")}catch(q){}else try{g.di("remote_sid",C.join(","),-1)}catch(q){}},XZO=function(){return g.iD("yt-remote-session-browser-channel")},JbO=function(){return g.iD("yt-remote-local-screens")||[]},Sj8=function(){g.CT("yt-remote-lounge-token-expiration",!0,86400)},ulN=function(C){C.length>5&&(C=C.slice(C.length-5));
const F=g.AP(JbO(),function(p){return p.loungeToken}),q=g.AP(C,function(p){return p.loungeToken});
g.zm(q,function(p){return!g.CZ(F,p)})&&Sj8();
g.CT("yt-remote-local-screens",C,31536E3)},bx=function(C){C||(g.FJ("yt-remote-session-screen-id"),g.FJ("yt-remote-session-video-id"));
Y1();C=Ps();g.dw(C,aU());vtN(C)},wZN=function(){if(!eO){const C=g.LY();
C&&(eO=new g.c0(C))}},nt$=function(){wZN();
return eO?!!eO.get("yt-remote-use-staging-server"):!1},$1=function(C,F){g.IJ[C]=!0;
const q=g.xH();q&&q.publish.apply(q,arguments);g.IJ[C]=!1},hw=function(){let C=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return C?parseInt(C[1],10):0},Dj$=function(C){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+C)!=-1||document.currentScript.src.indexOf("&"+C)!=-1)},V_$=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},m7=function(C){C.length?Nfk(C.shift(),function(){m7(C)}):sT()},sT=function(){let C=V_$();
C&&C(!1,"No cast extension found")},Nfk=function(C,F,q){let p=document.createElement("script");
p.onerror=F;q&&(p.onload=q);g.L8(p,g.v$(C));(document.head||document.documentElement).appendChild(p)},l3$=function(C){return"chrome-extension://"+C+"/cast_sender.js"},f3i=function(){const C=hw(),F=[];
if(C>1){const q=C-1;F.push("//www.gstatic.com/eureka/clank/"+C+"/cast_sender.js");F.push("//www.gstatic.com/eureka/clank/"+q+"/cast_sender.js")}return F},Bs=function(){if(TfN){var C=2,F=V_$(),q=function(){C--;
C==0&&F&&F(!0)};
window.__onGCastApiAvailable=q;Nfk("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",sT,q)}},P7i=function(){Bs();
let C=f3i();C.push("//www.gstatic.com/eureka/clank/cast_sender.js");m7(C)},a3i=function(){Bs();
let C=f3i();C.push(...t_M.map(l3$));C.push("//www.gstatic.com/eureka/clank/cast_sender.js");m7(C)},K3=function(C,F,q){g.Xl.call(this);
this.S=q!=null?(0,g.$l)(C,q):C;this.Yg=F;this.K=(0,g.$l)(this.MS,this);this.J=!1;this.U=0;this.V=this.W4=null;this.B=[]},rU=function(){this.J=g.mo()},Yj1=function(){OT||(OT=new rU)},bFB=function(){OT||(OT=new rU)},cs=function(){g.uQ.call(this,"p")},Z1=function(){g.uQ.call(this,"o")},Hs=function(){return e6A=e6A||new g.Kn},$j1=function(C){g.uQ.call(this,"serverreachability",C)},GS=function(C){const F=Hs();
F.dispatchEvent(new $j1(F,C))},h6O=function(C){g.uQ.call(this,"statevent",C)},yw=function(C){const F=Hs();
F.dispatchEvent(new h6O(F,C))},mjZ=function(C,F,q,p){g.uQ.call(this,"timingevent",C);
this.size=F;this.rtt=q;this.retries=p},oU=function(C,F){if(typeof C!=="function")throw Error("Fn must not be null and must be a function");
return g.VU.setTimeout(function(){C()},F)},k1=function(){},ET=function(C,F,q,p){this.V=C;
this.B=F;this.B3=q;this.t_=p||1;this.Wj=new g.DM(this);this.uH=45E3;this.N1=null;this.S=!1;this.W=this.Of=this.L=this.g0=this.JJ=this.iH=this.F9=null;this.Y=[];this.J=null;this.O=0;this.K=this.bH=null;this.Rk=-1;this.jw=!1;this.Ta=0;this.ew=null;this.H3=this.vj=this.Ik=this.Bj=!1;this.U=new s9N},s9N=function(){this.V=null;
this.J="";this.U=!1},Ws=function(C,F,q){C.g0=1;
C.L=dU(F.clone());C.W=q;C.Bj=!0;Bf$(C,null)},Bf$=function(C,F){C.JJ=Date.now();
Aw(C);C.Of=C.L.clone();RU(C.Of,"t",C.t_);C.O=0;const q=C.V.vj;C.U=new s9N;C.J=Kwi(C.V,q?F:null,!C.W);C.Ta>0&&(C.ew=new g.jJ((0,g.$l)(C.ye,C,C.J),C.Ta));C.Wj.listen(C.J,"readystatechange",C.Li);F=C.N1?g.W1(C.N1):{};C.W?(C.bH||(C.bH="POST"),F["Content-Type"]="application/x-www-form-urlencoded",C.J.send(C.Of,C.bH,C.W,F)):(C.bH="GET",C.J.send(C.Of,C.bH,null,F));GS(1)},OFN=function(C){if(!rbA(C))return g.oY(C.J);
const F=g.ki(C.J);if(F==="")return"";let q="";const p=F.length,d=g.ZP(C.J)==4;if(!C.U.V){if(typeof TextDecoder==="undefined")return UT(C),Qw(C),"";C.U.V=new g.VU.TextDecoder}for(let R=0;R<p;R++)C.U.U=!0,q+=C.U.V.decode(F[R],{stream:!(d&&R==p-1)});F.length=0;C.U.J+=q;C.O=0;return C.U.J},rbA=function(C){return C.J?C.bH=="GET"&&C.g0!=2&&C.V.uv:!1},ZFZ=function(C,F){var q=C.O,p=F.indexOf("\n",q);
if(p==-1)return Mo;q=Number(F.substring(q,p));if(isNaN(q))return cb1;p+=1;if(p+q>F.length)return Mo;F=F.slice(p,p+q);C.O=p+q;return F},Aw=function(C){C.iH=Date.now()+C.uH;
HF1(C,C.uH)},HF1=function(C,F){if(C.F9!=null)throw Error("WatchDog timer not null");
C.F9=oU((0,g.$l)(C.uP,C),F)},L3=function(C){C.F9&&(g.VU.clearTimeout(C.F9),C.F9=null)},Qw=function(C){C.V.Mm()||C.jw||GPy(C.V,C)},UT=function(C){L3(C);
g.R9(C.ew);C.ew=null;C.Wj.removeAll();if(C.J){const F=C.J;C.J=null;F.abort();F.dispose()}},qK=function(C,F){try{var q=C.V;
if(q.Yb!=0&&(q.J==C||zS(q.U,C)))if(!C.vj&&zS(q.U,C)&&q.Yb==3){try{var p=q.Ly.J.parse(F)}catch(S){p=null}if(Array.isArray(p)&&p.length==3){var d=p;if(d[0]==0)a:{if(!q.L){if(q.J)if(q.J.JJ+3E3<C.JJ)x1(q),gU(q);else break a;IU(q);yw(18)}}else q.NZ=d[1],0<q.NZ-q.g0&&d[2]<37500&&q.ew&&q.Y==0&&!q.F9&&(q.F9=oU((0,g.$l)(q.Ti,q),6E3));if(jN(q.U)<=1&&q.Rk){try{q.Rk()}catch(S){}q.Rk=void 0}}else C4(q,11)}else if((C.vj||q.J==C)&&x1(q),!g.C8(F))for(d=q.Ly.J.parse(F),F=0;F<d.length;F++){let S=d[F];const u=S[0];
if(!(u<=q.g0))if(q.g0=u,S=S[1],q.Yb==2)if(S[0]=="c"){q.B=S[1];q.B3=S[2];const w=S[3];w!=null&&(q.mD=w);const n=S[5];n!=null&&typeof n==="number"&&n>0&&(q.Ta=1.5*n);p=q;const D=C.Dj();if(D){const l=g.Wr(D,"X-Client-Wire-Protocol");if(l){var R=p.U;!R.J&&(g.i6(l,"spdy")||g.i6(l,"quic")||g.i6(l,"h2"))&&(R.B=R.K,R.J=new Set,R.U&&(iU(R,R.U),R.U=null))}if(p.Bj){const Y=g.Wr(D,"X-HTTP-Session-Id");Y&&(p.WV=Y,g.Rk(p.N1,p.Bj,Y))}}q.Yb=3;q.K&&q.K.kT();q.EW&&(q.Zv=Date.now()-C.JJ);p=q;var v=C;p.YM=ybi(p,p.vj?
p.B3:null,p.GV);if(v.vj){otZ(p.U,v);var X=v,J=p.Ta;J&&X.setTimeout(J);X.F9&&(L3(X),Aw(X));p.J=v}else kPw(p);q.V.length>0&&Fw(q)}else S[0]!="stop"&&S[0]!="close"||C4(q,7);else q.Yb==3&&(S[0]=="stop"||S[0]=="close"?S[0]=="stop"?C4(q,7):q.disconnect():S[0]!="noop"&&q.K&&q.K.gR(S),q.Y=0)}GS(4)}catch(S){}},EtB=function(C){this.K=C||10;
g.VU.PerformanceNavigationTiming?(C=g.VU.performance.getEntriesByType("navigation"),C=C.length>0&&(C[0].nextHopProtocol=="hq"||C[0].nextHopProtocol=="h2")):C=!!(g.VU.chrome&&g.VU.chrome.loadTimes&&g.VU.chrome.loadTimes()&&g.VU.chrome.loadTimes().wasFetchedViaSpdy);this.B=C?this.K:1;this.J=null;this.B>1&&(this.J=new Set);this.U=null;this.V=[]},Ww2=function(C){return C.U?!0:C.J?C.J.size>=C.B:!1},jN=function(C){return C.U?1:C.J?C.J.size:0},zS=function(C,F){return C.U?C.U==F:C.J?C.J.has(F):!1},iU=function(C,
F){C.J?C.J.add(F):C.U=F},otZ=function(C,F){C.U&&C.U==F?C.U=null:C.J&&C.J.has(F)&&C.J.delete(F)},p4=function(C){if(C.U!=null)return C.V.concat(C.U.Y);
if(C.J!=null&&C.J.size!==0){let F=C.V;for(const q of C.J.values())F=F.concat(q.Y);return F}return g.XM(C.V)},AbH=function(C,F){const q=new k1;
if(g.VU.Image){const p=new Image;p.onload=g.hP(db,q,"TestLoadImage: loaded",!0,F,p);p.onerror=g.hP(db,q,"TestLoadImage: error",!1,F,p);p.onabort=g.hP(db,q,"TestLoadImage: abort",!1,F,p);p.ontimeout=g.hP(db,q,"TestLoadImage: timeout",!1,F,p);g.VU.setTimeout(function(){if(p.ontimeout)p.ontimeout()},1E4);
p.src=C}else F(!1)},Uji=function(C,F){const q=new k1,p=new AbortController,d=setTimeout(()=>{p.abort();
db(q,"TestPingServer: timeout",!1,F)},1E4);
fetch(C,{signal:p.signal}).then(R=>{clearTimeout(d);R.ok?db(q,"TestPingServer: ok",!0,F):db(q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(d);
db(q,"TestPingServer: error",!1,F)})},db=function(C,F,q,p,d){try{d&&(d.onload=null,d.onerror=null,d.onabort=null,d.ontimeout=null),p(q)}catch(R){}},Q99=function(){this.J=new Rt},v3=function(C,F,q){return q&&q.sb?q.sb[C]||F:F},M_i=function(C){this.V=[];
this.B3=this.YM=this.N1=this.GV=this.J=this.WV=this.Bj=this.jw=this.O=this.Ik=this.W=null;this.kc=this.Of=0;this.RN=v3("failFast",!1,C);this.ew=this.F9=this.L=this.S=this.K=null;this.h_=!0;this.NZ=this.g0=-1;this.t_=this.Y=this.JJ=0;this.YW=v3("baseRetryDelayMs",5E3,C);this.Sa=v3("retryDelaySeedMs",1E4,C);this.UE=v3("forwardChannelMaxRetries",2,C);this.B4=v3("forwardChannelRequestTimeoutMs",2E4,C);this.Ek=C&&C.OrH||void 0;this.IM=C&&C.NYC||void 0;this.uv=C&&C.ABa||!1;this.Ta=void 0;this.vj=C&&C.Pk||
!1;this.B="";this.U=new EtB(C&&C.Zyt);this.XU=Math.min(C&&C.xmC||1E3,1E3);this.Ly=new Q99;this.Wj=C&&C.aTC||!1;this.iH=C&&C.Upj||!1;this.Wj&&this.iH&&(this.iH=!1);this.WJ=C&&C.w40||!1;C&&C.SEf&&(this.h_=!1);this.EW=!this.Wj&&this.h_&&C&&C.Jqj||!1;this.wB=void 0;C&&C.zE&&C.zE>0&&(this.wB=C.zE);this.Rk=void 0;this.Zv=0;this.uH=!1;this.H3=this.bH=null},gU=function(C){C.J&&(Xw(C),C.J.cancel(),C.J=null)},Lw1=function(C){gU(C);
C.L&&(g.VU.clearTimeout(C.L),C.L=null);x1(C);C.U.cancel();C.S&&(typeof C.S==="number"&&g.VU.clearTimeout(C.S),C.S=null)},Fw=function(C){Ww2(C.U)||C.S||(C.S=!0,g.Ln(C.K4,C),C.JJ=0)},xjB=function(C,F){if(jN(C.U)>=C.U.B-(C.S?1:0))return!1;
if(C.S)return C.V=F.Y.concat(C.V),!0;if(C.Yb==1||C.Yb==2||C.JJ>=(C.RN?0:C.UE))return!1;C.S=oU((0,g.$l)(C.K4,C,F),z6i(C,C.JJ));C.JJ++;return!0},I3w=function(C,F){var q;
F?q=F.B3:q=C.Of++;const p=C.N1.clone();g.Rk(p,"SID",C.B);g.Rk(p,"RID",q);g.Rk(p,"AID",C.g0);Ju(C,p);C.O&&C.W&&g.ny(p,C.O,C.W);q=new ET(C,C.B,q,C.JJ+1);C.O===null&&(q.N1=C.W);F&&(C.V=F.Y.concat(C.V));F=gtB(C,q,C.XU);q.setTimeout(Math.round(C.B4*.5)+Math.round(C.B4*.5*Math.random()));iU(C.U,q);Ws(q,p,F)},Ju=function(C,F){C.jw&&g.bO(C.jw,function(q,p){g.Rk(F,p,q)});
C.K&&g.bO({},function(q,p){g.Rk(F,p,q)})},gtB=function(C,F,q){q=Math.min(C.V.length,q);
const p=C.K?(0,g.$l)(C.K.wU,C.K,C):null;a:{var d=C.V;let X=-1;for(;;){const J=["count="+q];X==-1?q>0?(X=d[0].J,J.push("ofs="+X)):X=0:J.push("ofs="+X);let S=!0;for(let u=0;u<q;u++){var R=d[u].J;const w=d[u].map;R-=X;if(R<0)X=Math.max(0,d[u].J-100),S=!1;else try{R="req"+R+"_"||"";try{var v=w instanceof Map?w:Object.entries(w);for(const [n,D]of v){let l=D;g.Yl(D)&&(l=g.Yi(D));J.push(R+n+"="+encodeURIComponent(l))}}catch(n){throw J.push(R+"type="+encodeURIComponent("_badmap")),n;}}catch(n){p&&p(w)}}if(S){v=
J.join("&");break a}}v=void 0}C=C.V.splice(0,q);F.Y=C;return v},kPw=function(C){C.J||C.L||(C.t_=1,g.Ln(C.xT,C),C.Y=0)},IU=function(C){if(C.J||C.L||C.Y>=3)return!1;
C.t_++;C.L=oU((0,g.$l)(C.xT,C),z6i(C,C.Y));C.Y++;return!0},Xw=function(C){C.bH!=null&&(g.VU.clearTimeout(C.bH),C.bH=null)},jEZ=function(C){C.J=new ET(C,C.B,"rpc",C.t_);
C.O===null&&(C.J.N1=C.W);C.J.Ta=0;var F=C.YM.clone();g.Rk(F,"RID","rpc");g.Rk(F,"SID",C.B);g.Rk(F,"AID",C.g0);g.Rk(F,"CI",C.ew?"0":"1");!C.ew&&C.wB&&g.Rk(F,"TO",C.wB);g.Rk(F,"TYPE","xmlhttp");Ju(C,F);C.O&&C.W&&g.ny(F,C.O,C.W);C.Ta&&C.J.setTimeout(C.Ta);var q=C.J;C=C.B3;q.g0=1;q.L=dU(F.clone());q.W=null;q.Bj=!0;Bf$(q,C)},x1=function(C){C.F9!=null&&(g.VU.clearTimeout(C.F9),C.F9=null)},GPy=function(C,F){var q=null;
if(C.J==F){x1(C);Xw(C);C.J=null;var p=2}else if(zS(C.U,F))q=F.Y,otZ(C.U,F),p=1;else return;if(C.Yb!=0)if(F.S)if(p==1){q=F.W?F.W.length:0;F=Date.now()-F.JJ;var d=C.JJ;p=Hs();p.dispatchEvent(new mjZ(p,q,F,d));Fw(C)}else kPw(C);else{var R=F.Rk;d=F.getLastError();if(d==3||d==0&&R>0||!(p==1&&xjB(C,F)||p==2&&IU(C)))switch(q&&q.length>0&&(F=C.U,F.V=F.V.concat(q)),d){case 1:C4(C,5);break;case 4:C4(C,10);break;case 3:C4(C,6);break;default:C4(C,2)}}},z6i=function(C,F){let q=C.YW+Math.floor(Math.random()*C.Sa);
C.isActive()||(q*=2);return q*F},C4=function(C,F){if(F==2){var q=(0,g.$l)(C.Uw,C),p=C.IM;
const d=!p;p=new g.Io(p||"//www.google.com/images/cleardot.gif");g.VU.location&&g.VU.location.protocol=="http"||g.j3(p,"https");dU(p);d?AbH(p.toString(),q):Uji(p.toString(),q)}else yw(2);C.Yb=0;C.K&&C.K.n4(F);CWk(C);Lw1(C)},CWk=function(C){C.Yb=0;
C.H3=[];if(C.K){const F=p4(C.U);if(F.length!=0||C.V.length!=0)g.Jk(C.H3,F),g.Jk(C.H3,C.V),C.U.V.length=0,g.XM(C.V),C.V.length=0;C.K.jS()}},i1k=function(C){if(C.Yb==0)return C.H3;
let F=[];g.Jk(F,p4(C.U));g.Jk(F,C.V);return F},ybi=function(C,F,q){var p=g.vM(q);
p.J!=""?(F&&g.Cy(p,F+"."+p.J),g.i1(p,p.V)):(p=g.VU.location,p=Mb8(p.protocol,F?F+"."+p.hostname:p.hostname,+p.port,q));F=C.Bj;q=C.WV;F&&q&&g.Rk(p,F,q);g.Rk(p,"VER",C.mD);Ju(C,p);return p},Kwi=function(C,F,q){if(F&&!C.vj)throw Error("Can't create secondary domain capable XhrIo object.");
F=C.uv&&!C.Ek?new g.sl(new g.Md({J1:q})):new g.sl(C.Ek);F.O=C.vj;return F},FiB=function(){},qeA=function(){},uU=function(C,F){g.Kn.call(this);
this.J=new M_i(F);this.S=C;this.U=F&&F.pI||null;C=F&&F.l$||null;F&&F.CvH&&(C?C["X-Client-Protocol"]="webchannel":C={"X-Client-Protocol":"webchannel"});this.J.W=C;C=F&&F.YH1||null;F&&F.tK&&(C?C["X-WebChannel-Content-Type"]=F.tK:C={"X-WebChannel-Content-Type":F.tK});F&&F.E6&&(C?C["X-WebChannel-Client-Profile"]=F.E6:C={"X-WebChannel-Client-Profile":F.E6});this.J.Ik=C;(C=F&&F.Zd0)&&!g.C8(C)&&(this.J.O=C);this.O=F&&F.Pk||!1;this.K=F&&F.o2r||!1;(F=F&&F.QQ)&&!g.C8(F)&&(this.J.Bj=F,g.Oi(this.U,F)&&(C=this.U,
F in C&&delete C[F]));this.V=new SN(this)},pEN=function(C){cs.call(this);
C.__headers__&&(this.headers=C.__headers__,this.statusCode=C.__status__,delete C.__headers__,delete C.__status__);const F=C.__sm__;F?this.data=(this.J=g.si(F))?g.k$(F,this.J):F:this.data=C},duO=function(C){Z1.call(this);
this.status=1;this.errorCode=C},SN=function(C){this.J=C},wb=function(C,F){this.B=C;
this.J=F},n4=function(C,F){if(typeof C!=="function")throw Error("Fn must not be null and must be a function");
return g.VU.setTimeout(function(){C()},F)},VY=function(){DU.dispatchEvent(new RIy)},NK=function(C,F,q,p){this.J=C;
this.B=F;this.O=q;this.S=p||1;this.U=45E3;this.V=new g.DM(this);this.K=new g.vr;this.K.setInterval(250)},XE9=function(C,F,q){C.m9=1;
C.bR=dU(F.clone());C.gN=q;C.Bj=!0;vI9(C,null)},lU=function(C,F,q,p,d){C.m9=1;
C.bR=dU(F.clone());C.gN=null;C.Bj=q;d&&(C.Gs=!1);vI9(C,p)},vI9=function(C,F){C.Bi=Date.now();
f4(C);C.yp=C.bR.clone();RU(C.yp,"t",C.S);C.KA=0;C.Nw=C.J.E2(C.J.yJ()?F:null);C.v8>0&&(C.BA=new g.jJ((0,g.$l)(C.SS,C,C.Nw),C.v8));C.V.listen(C.Nw,"readystatechange",C.rU);F=C.nD?g.W1(C.nD):{};C.gN?(C.x_="POST",F["Content-Type"]="application/x-www-form-urlencoded",C.Nw.send(C.yp,C.x_,C.gN,F)):(C.x_="GET",C.Gs&&!g.g$&&(F.Connection="close"),C.Nw.send(C.yp,C.x_,null,F));C.J.Fy(1)},Se2=function(C,F){var q=C.KA,p=F.indexOf("\n",q);
if(p==-1)return Tv;q=Number(F.substring(q,p));if(isNaN(q))return JnH;p+=1;if(p+q>F.length)return Tv;F=F.slice(p,p+q);C.KA=p+q;return F},f4=function(C){C.eA=Date.now()+C.U;
uKk(C,C.U)},uKk=function(C,F){if(C.rf!=null)throw Error("WatchDog timer not null");
C.rf=n4((0,g.$l)(C.Df,C),F)},wEy=function(C){C.rf&&(g.VU.clearTimeout(C.rf),C.rf=null)},P3=function(C){C.J.Mm()||C.Ug||C.J.qq(C)},tu=function(C){wEy(C);
g.R9(C.BA);C.BA=null;C.K.stop();C.V.removeAll();if(C.Nw){const F=C.Nw;C.Nw=null;F.abort();F.dispose()}C.E9&&(C.E9=null)},nI8=function(C,F){try{C.J.hI(C,F),C.J.Fy(4)}catch(q){}},VzH=function(C,F,q,p,d){if(p==0)q(!1);
else{var R=d||0;p--;DuM(C,F,function(v){v?q(!0):g.VU.setTimeout(function(){VzH(C,F,q,p,R)},R)})}},DuM=function(C,F,q){const p=new Image;
p.onload=function(){try{at(p),q(!0)}catch(d){}};
p.onerror=function(){try{at(p),q(!1)}catch(d){}};
p.onabort=function(){try{at(p),q(!1)}catch(d){}};
p.ontimeout=function(){try{at(p),q(!1)}catch(d){}};
g.VU.setTimeout(function(){if(p.ontimeout)p.ontimeout()},F);
p.src=C},at=function(C){C.onload=null;
C.onerror=null;C.onabort=null;C.ontimeout=null},N4M=function(C){this.J=C;
this.U=new Rt},lvi=function(C){const F=YK(C.J,C.Ln,"/mail/images/cleardot.gif");
dU(F);VzH(F.toString(),5E3,(0,g.$l)(C.bG,C),3,2E3);C.Fy(1)},eN=function(C){var F=C.J.S;
F!=null?(VY(),F?(VY(),bU(C.J,C,!1)):(VY(),bU(C.J,C,!0))):(C.zA=new NK(C),C.zA.nD=C.f7,F=C.J,F=YK(F,F.yJ()?C.j0:null,C.dV),VY(),RU(F,"TYPE","xmlhttp"),lU(C.zA,F,!1,C.j0,!1))},$K=function(C,F,q){this.J=1;
this.U=[];this.V=[];this.K=new Rt;this.W=C||null;this.S=F!=null?F:null;this.L=q||!1},fvk=function(C,F){this.J=C;
this.map=F;this.context=null},T4$=function(C,F,q,p){g.uQ.call(this,"timingevent",C);
this.size=F;this.rtt=q;this.retries=p},PW2=function(C){g.uQ.call(this,"serverreachability",C)},tzZ=function(C){C.iP(1,0);
C.nA=YK(C,null,C.O2);hu(C)},av1=function(C){C.jI&&(C.jI.abort(),C.jI=null);
C.Z1&&(C.Z1.cancel(),C.Z1=null);C.BC&&(g.VU.clearTimeout(C.BC),C.BC=null);mQ(C);C.UN&&(C.UN.cancel(),C.UN=null);C.Qf&&(g.VU.clearTimeout(C.Qf),C.Qf=null)},sc=function(C,F){if(C.J==0)throw Error("Invalid operation: sending map when state is closed");
C.U.push(new fvk(C.lP++,F));C.J!=2&&C.J!=3||hu(C)},Yek=function(C){let F=0;
C.Z1&&F++;C.UN&&F++;return F},hu=function(C){C.UN||C.Qf||(C.Qf=n4((0,g.$l)(C.qM,C),0),C.lF=0)},eIZ=function(C,F){if(C.J==1){if(!F){C.xv=Math.floor(Math.random()*1E5);
F=C.xv++;const q=new NK(C,"",F);q.nD=C.Z4;const p=B3(C),d=C.nA.clone();g.Rk(d,"RID",F);g.Rk(d,"CVER","1");K4(C,d);XE9(q,d,p);C.UN=q;C.J=2}}else C.J==3&&(F?b19(C,F):C.U.length==0||C.UN||b19(C))},b19=function(C,F){if(F)if(C.NQ>6){C.U=C.V.concat(C.U);
C.V.length=0;var q=C.xv-1;F=B3(C)}else q=F.O,F=F.gN;else q=C.xv++,F=B3(C);const p=C.nA.clone();g.Rk(p,"SID",C.B);g.Rk(p,"RID",q);g.Rk(p,"AID",C.pU);K4(C,p);q=new NK(C,C.B,q,C.lF+1);q.nD=C.Z4;q.setTimeout(1E4+Math.round(1E4*Math.random()));C.UN=q;XE9(q,p,F)},K4=function(C,F){C.zL&&(C=C.zL.MM())&&g.bO(C,function(q,p){g.Rk(F,p,q)})},B3=function(C){const F=Math.min(C.U.length,1E3),q=["count="+F];
let p;C.NQ>6&&F>0?(p=C.U[0].J,q.push("ofs="+p)):p=0;for(let d=0;d<F;d++){let R=C.U[d].J;const v=C.U[d].map;R=C.NQ<=6?d:R-p;try{g.bO(v,function(X,J){q.push("req"+R+"_"+J+"="+encodeURIComponent(X))})}catch(X){q.push("req"+R+"_type="+encodeURIComponent("_badmap"))}}C.V=C.V.concat(C.U.splice(0,F));
return q.join("&")},$uM=function(C){C.Z1||C.BC||(C.O=1,C.BC=n4((0,g.$l)(C.f4,C),0),C.iF=0)},rb=function(C){if(C.Z1||C.BC||C.iF>=3)return!1;
C.O++;C.BC=n4((0,g.$l)(C.f4,C),hIO(C,C.iF));C.iF++;return!0},bU=function(C,F,q){C.zX=C.S==null?q:!C.S;
C.DB=F.VS;C.L||tzZ(C)},mQ=function(C){C.aG!=null&&(g.VU.clearTimeout(C.aG),C.aG=null)},hIO=function(C,F){let q=5E3+Math.floor(Math.random()*1E4);
C.isActive()||(q*=2);return q*F},Oc=function(C,F){if(F==2||F==9){var q=null;
C.zL&&(q=null);var p=(0,g.$l)(C.bV,C);q||(q=new g.Io("//www.google.com/images/cleardot.gif"),dU(q));DuM(q.toString(),1E4,p)}else VY();muN(C,F)},muN=function(C,F){C.J=0;
C.zL&&C.zL.dR(F);sE1(C);av1(C)},sE1=function(C){C.J=0;
C.DB=-1;if(C.zL)if(C.V.length==0&&C.U.length==0)C.zL.GI();else{const F=g.XM(C.V),q=g.XM(C.U);C.V.length=0;C.U.length=0;C.zL.GI(F,q)}},YK=function(C,F,q){let p=g.vM(q);
if(p.J!="")F&&g.Cy(p,F+"."+p.J),g.i1(p,p.V);else{const d=window.location;p=Mb8(d.protocol,F?F+"."+d.hostname:d.hostname,+d.port,q)}C.mR&&g.bO(C.mR,function(d,R){g.Rk(p,R,d)});
g.Rk(p,"VER",C.NQ);K4(C,p);return p},B48=function(){},KiB=function(){this.J=[];
this.U=[]},rni=function(C,F){this.action=C;
this.params=F||{}},c3=function(C,F){g.Xl.call(this);
this.J=new g.i4(this.LN,0,this);g.b(this,this.J);this.Yg=5E3;this.retryCount=this.lD=0;if(typeof C==="function")F&&(C=(0,g.$l)(C,F));else if(C&&typeof C.handleEvent==="function")C=(0,g.$l)(C.handleEvent,C);else throw Error("Invalid listener argument");this.U=C},ZU=function(C,F,q=!1,p=()=>"",d=!1,R=!1,v=!1,X=()=>g.UV({}),J=!1,S,u){this.vj=C;
this.JJ=F;this.O=new g.Of;this.S=u;this.U=(this.V=!!S)?S(()=>{this.bc()}):new c3(this.bc,this);
this.J=null;this.W=!1;this.Y=null;this.Bj="";this.bH=this.F9=0;this.B=[];this.Rk=q;this.N1=p;this.L=R;this.g0=X;this.Ik=v;this.jw=null;this.K=g.UV();this.H3=d;this.Wj=J;this.uH=new O1k;this.ew=new cn$;this.iH=new Z1B;this.Ta=new H1N;this.Of=new GQ9;this.t_=new ynw;this.B3=new oIO},kQi=function(C,F,q,p,d){H3(C);
if(C.J){const R=g.Z("ID_TOKEN"),v=C.J.Z4||{};R?v["x-youtube-identity-token"]=R:delete v["x-youtube-identity-token"];C.J.Z4=v}p?(p.getState()!=3&&Yek(p)==0||p.getState(),C.J.connect(F,q,C.JJ,p.B,p.pU)):d?C.J.connect(F,q,C.JJ,d.sessionId,d.arrayId):C.J.connect(F,q,C.JJ);C.V&&!C.U.isActive()&&C.U.start();C.S&&C.S.ahC()},Wi1=function(C,F){return C.Wj?!Object.values(EIi).includes(F):!1},AnB=async function(C){try{await Gv(C)}finally{var F=C.B;
C.B=[];var q=F;F=F.length;for(let p=0;p<F;++p)sc(C.J,q[p]);yY(C);yY(C)}},yY=function(C){C.publish("handlerOpened");
C.uH.J("BROWSER_CHANNEL")},H3=function(C){if(C.J){const F=C.N1(),q=C.J.Z4||{};
F?q["x-youtube-lounge-xsrf-token"]=F:delete q["x-youtube-lounge-xsrf-token"];C.J.Z4=q}},Gv=function(C){if(!C.Ik)return UuM(C);
C.jw===null&&(C.jw=UuM(C));return C.jw},UuM=function(C){return g.Ix(C.g0().then(F=>{if(C.J){let q=C.J.Z4||{};
F&&Object.keys(F).length>0?q={...q,...F}:delete q.Authorization;C.J.Z4=q}}).pH(()=>{}),()=>{C.jw=null})},ot=function(C){this.scheme="https";
this.port=this.domain="";this.J="/api/lounge";this.U=!0;C=C||document.location.href;const F=Number(g.Sb(C)[4]||null)||"";F&&(this.port=":"+F);this.domain=g.wC(C)||"";C=g.dL();C.search("MSIE")>=0&&(C=C.match(/MSIE ([\d.]+)/)[1],g.p8(C,"10.0")<0&&(this.U=!1))},kK=function(C,F){let q=C.J;
C.U&&(q=C.scheme+"://"+C.domain+C.port+C.J);return g.YC(q+F,{})},QEi=function(C){g.PB(C.channel,"m",()=>{C.S=3;
C.V.reset();C.L=null;C.O=0;for(const F of C.Y)C.channel&&C.channel.send(F);C.Y=[];C.publish("webChannelOpened");C.N1.J("WEB_CHANNEL")});
g.PB(C.channel,"n",()=>{C.S=0;C.V.isActive()||C.publish("webChannelClosed");const F=C.channel?.B().V();F&&(C.Y=[...F]);C.bH.J("WEB_CHANNEL")});
g.PB(C.channel,"p",F=>{const q=F.data;q[0]==="gracefulReconnect"?(C.V.start(),C.channel&&C.channel.close()):C.publish("webChannelMessage",new rni(q[0],q[1]));C.Sm=F.statusCode;C.jw.J("WEB_CHANNEL")});
g.PB(C.channel,"o",()=>{C.Sm===401||C.V.start();C.publish("webChannelError");C.Bj.J("WEB_CHANNEL","")})},Ec=function(C){const F=C.JJ();
F?C.B["x-youtube-lounge-xsrf-token"]=F:delete C.B["x-youtube-lounge-xsrf-token"]},xuA=function(C,F,q=()=>"",p,d){const R=()=>new ZU(kK(C,"/bc"),F,!1,q,p);
return g.E1("enable_mdx_web_channel_desktop")?new Mzk(()=>new Li8(kK(C,"/wc"),F,q)):new zIA(R,d)},Ch2=function(){var C=gI$;
IvM();W3.push(C);jR1()},Au=function(C,F){IvM();
const q=ieA(C,String(F));W3.length==0?F49(q):(jR1(),g.Eq(W3,function(p){p(q)}))},Uc=function(C){Au("CP",C)},IvM=function(){W3||(W3=g.lz("yt.mdx.remote.debug.handlers_")||[],g.ND("yt.mdx.remote.debug.handlers_",W3))},F49=function(C){const F=(QY+1)%50;
QY=F;MK[F]=C;L4||(L4=F==49)},jR1=function(){var C=W3;
if(MK[0]){var F=L4?QY:-1;do{F=(F+1)%50;const q=MK[F];g.Eq(C,function(p){p(q)})}while(F!=QY);
MK=Array(50);QY=-1;L4=!1}},ieA=function(C,F){let q=(Date.now()-qs8)/1E3;
q.toFixed&&(q=q.toFixed(3));const p=[];p.push("[",q+"s","] ");p.push("[","yt.mdx.remote","] ");p.push(C+": "+F,"\n");return p.join("")},zv=function(C){g.qH.call(this);
this.S=C;this.screens=[]},pLB=function(C,F){const q=C.get(F.uuid)||C.get(F.id);
if(q)return C=q.name,q.id=F.id||q.id,q.name=F.name,q.token=F.token,q.uuid=F.uuid||q.uuid,q.name!=C;C.screens.push(F);return!0},dCN=function(C,F){let q=C.screens.length!=F.length;
C.screens=g.Wz(C.screens,function(d){return!!f3(F,d)});
const p=F.length;for(let d=0;d<p;d++)q=pLB(C,F[d])||q;return q},RC8=function(C,F){const q=C.screens.length;
C.screens=g.Wz(C.screens,function(p){return!(p||F?!p!=!F?0:p.id==F.id:1)});
return C.screens.length<q},gb=function(C){zv.call(this,"LocalScreenService");
this.U=C;this.J=NaN;xK(this);this.info("Initializing with "+No(this.screens))},va$=function(C){if(C.screens.length){const F=g.AP(C.screens,function(p){return p.id}),q=kK(C.U,"/pairing/get_lounge_token_batch");
C.U.sendRequest("POST",q,{screen_ids:F.join(",")},(0,g.$l)(C.lU,C),(0,g.$l)(C.iU,C))}},xK=function(C){if(g.E1("deprecate_pair_servlet_enabled"))return dCN(C,[]);
var F=qjM(JbO());F=g.Wz(F,function(q){return!q.uuid});
return dCN(C,F)},It=function(C,F){ulN(g.AP(C.screens,iF8));
F&&Sj8()},jL=function(C){Au("OnlineScreenService",C)},CG=function(C){isNaN(C.V)||g.ys(C.V);
C.V=g.H$((0,g.$l)(C.O,C),C.B>0&&C.B<g.mo()?2E4:1E4)},iE=function(C,F){a:if(vs(F)!=vs(C.J))var q=!1;
else{q=g.rw(F);var p=q.length;for(let d=0;d<p;++d)if(!C.J[q[d]]){q=!1;break a}q=!0}q||(jL("Updated online screens: "+g.Yi(C.J)),C.J=F,C.publish("screenChange"));XLH(C)},F3=function(C,F,q){const p=kK(C.K,"/pairing/get_screen_availability");
C.K.sendRequest("POST",p,{lounge_token:F.token},(0,g.$l)(function(d){d=d.screens||[];const R=d.length;for(let v=0;v<R;++v)if(d[v].loungeToken==F.token){q(d[v].status=="online");return}q(!1)},C),(0,g.$l)(function(){q(!1)},C))},XLH=function(C){C=g.rw(g.e8(C.J,function(F){return F}));
g.P1(C);C.length?g.CT("yt-remote-online-screen-ids",C.join(","),60):g.FJ("yt-remote-online-screen-ids")},J7A=function(C){const F={};
g.Eq(C.S(),function(q){q.token?F[q.token]=q.id:this.Jz("Requesting availability of screen w/o lounge token.")});
return F},qJ=function(C,F=!1){zv.call(this,"ScreenService");
this.B=C;this.O=F;this.J=this.U=null;this.V=[];this.K={};Ss1(this)},wL8=function(C,F,q,p,d,R){C.info("getAutomaticScreenByIds "+q+" / "+F);
q||(q=C.K[F]);const v=C.Bf();let X=q?TS(v,q):null;q&&(C.O||X)||(X=TS(v,F));if(X){X.uuid=F;const J=pG(C,X);F3(C.J,J,function(S){d(S?J:null)})}else q?un8(C,q,(0,g.$l)(function(J){const S=pG(this,new n3({name:p,
screenId:q,loungeToken:J,dialId:F||""}));F3(this.J,S,function(u){d(u?S:null)})},C),R):d(null)},naB=function(C,F){const q=C.screens.length;
for(let p=0;p<q;++p)if(C.screens[p].name==F)return C.screens[p];return null},DCM=function(C,F,q){F3(C.J,F,q)},un8=function(C,F,q,p){C.info("requestLoungeToken_ for "+F);
const d={postParams:{screen_ids:F},method:"POST",context:C,onSuccess:function(R,v){R=v&&v.screens||[];R[0]&&R[0].screenId==F?q(R[0].loungeToken):p(Error("Missing lounge token in token response"))},
onError:function(){p(Error("Request screen lounge token failed"))}};
g.Ld(kK(C.B,"/pairing/get_lounge_token_batch"),d)},V5M=function(C){C.screens=C.U.Bf();
var F=C.K;const q={};for(var p in F)q[F[p]]=p;F=C.screens.length;for(p=0;p<F;++p){const d=C.screens[p];d.uuid=q[d.id]||""}C.info("Updated manual screens: "+No(C.screens))},Ss1=function(C){dQ(C);
C.U=new gb(C.B);C.U.subscribe("screenChange",(0,g.$l)(C.Ze,C));V5M(C);C.O||(C.V=qjM(g.iD("yt-remote-automatic-screen-cache")||[]));dQ(C);C.info("Initializing automatic screens: "+No(C.V));C.J=new NY$(C.B,(0,g.$l)(C.Bf,C,!0));C.J.subscribe("screenChange",(0,g.$l)(function(){this.publish("onlineScreenChange")},C))},pG=function(C,F){var q=C.get(F.id);
q?(q.uuid=F.uuid,F=q):((q=TS(C.V,F.uuid))?(q.id=F.id,q.token=F.token,F=q):C.V.push(F),C.O||laH(C));dQ(C);C.K[F.uuid]=F.id;g.CT("yt-remote-device-id-map",C.K,31536E3);return F},laH=function(C){C=g.Wz(C.V,F=>F.idType!="shortLived");
g.CT("yt-remote-automatic-screen-cache",g.AP(C,iF8))},dQ=function(C){C.K=g.iD("yt-remote-device-id-map")||{}},R4=function(C,F,q){g.qH.call(this);
this.Bj=q;this.B=C;this.U=F;this.J=null},v5=function(C,F){C.J=F;
C.publish("sessionScreen",C.J)},fak=function(C,F){C.J&&(C.J.token=F,pG(C.B,C.J));
C.publish("sessionScreen",C.J)},X3=function(C,F){Au(C.Bj,F)},PhB=function(C,F){g.ys(C.F9);
C.F9=0;F?C.config_.enableCastLoungeToken&&F.loungeToken?F.deviceId?C.J&&C.J.uuid==F.deviceId||(F.loungeTokenRefreshIntervalMs?TYk(C,{name:C.U.friendlyName,screenId:F.screenId,loungeToken:F.loungeToken,dialId:F.deviceId,screenIdType:"shortLived"},F.loungeTokenRefreshIntervalMs):(g.Vs(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),Jh(C,F.screenId))):(g.Vs(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),Jh(C,F.screenId)):
Jh(C,F.screenId):C.uN(Error("Waiting for session status timed out."))},t5A=function(C){g.ys(C.W);
C.W=0;g.ys(C.O);C.O=0;g.ys(C.F9);C.F9=0;g.ys(C.K);C.K=0;g.ys(C.L);C.L=0},aaO=function(C,F){C.info("sendYoutubeMessage_: "+F+" "+g.Yi());
const q={};q.type=F;C.V?C.V.sendMessage("urn:x-cast:com.google.youtube.mdx",q,()=>{},(0,g.$l)(function(){X3(this,"Failed to send message: "+F+".")},C)):X3(C,"Sending yt message without session: "+g.Yi(q))},bew=function(C){aaO(C,"getLoungeToken");
g.ys(C.K);C.K=g.H$(()=>{Ysy(C,null)},3E4)},SL=function(C,F){g.ys(C.L);
C.L=0;F==0?bew(C):C.L=g.H$(()=>{bew(C)},F)},Ysy=function(C,F){g.ys(C.K);
C.K=0;let q=null;F?F.loungeToken?C.J?.token==F.loungeToken&&(q="staleLoungeToken"):q="missingLoungeToken":q="noLoungeTokenResponse";q?(C.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(F)}, error: ${q}`),SL(C,3E4)):(fak(C,F.loungeToken),SL(C,F.loungeTokenRefreshIntervalMs))},Jh=function(C,F){F?(C.info("onConnectedScreenId_: Received screenId: "+F),C.J&&C.J.id==F||C.jw(F,q=>{v5(C,q)},()=>C.uN(),5)):C.uN(Error("Waiting for session status timed out."))},eC8=
function(C,F,q,p){g.ys(C.O);
C.O=0;DCM(C.B,F,d=>{d||p<0?q(d):C.O=g.H$(()=>{eC8(C,F,q,p-1)},300)})},TYk=function(C,F,q){C.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(F)}`);
const p=new n3(F);eC8(C,p,d=>{d?(pG(C.B,p),v5(C,p),SL(C,q)):(g.Vs(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`)),C.uN())},5)},uE=function(C){return new Promise(F=>{C.JJ=lx();
if(C.N1){const q=new chrome.cast.DialLaunchResponse(!0,$Ck(C));F(q);hCO(C)}else C.Y=()=>{g.ys(C.F9);C.Y=()=>{};
C.F9=NaN;const q=new chrome.cast.DialLaunchResponse(!0,$Ck(C));F(q);hCO(C)},C.F9=g.H$(()=>{C.Y()},100)})},mCA=function(C){g.ys(C.O);
C.O=0;g.ys(C.L);C.L=0;C.K();C.K=()=>{};
g.ys(C.F9)},wQ=function(C){return!(!C.config_.enableDialLoungeToken||!C.V?.getDialAppInfo)},nG=function(C,F){C.info(`getDialAppInfoWithTimeout_ ${F}`);
wQ(C)&&(g.ys(C.L),C.L=0,F==0?sR8(C):C.L=g.H$(()=>{sR8(C)},F))},hCO=function(C){C.K=C.B.L4(C.JJ,C.U.label,C.U.friendlyName,wQ(C),(F,q)=>{C.K=()=>{};
v5(C,F);F.idType=="shortLived"&&q>0&&nG(C,q)},F=>{C.K=()=>{};
C.uN(F)})},$Ck=function(C){var F={};
F.pairingCode=C.JJ;F.theme=C.g0;nt$()&&(F.env_useStageMdx=1);return g.au(F)},BYA=function(C,F){const q=C.W.receiver.label,p=C.U.friendlyName;
return(new Promise(d=>{wL8(C.B,q,F,p,R=>{R&&R.token&&v5(C,R);d(R)},R=>{X3(C,"Failed to get DIAL screen: "+R);
d(null)})})).then(d=>d&&d.token?new chrome.cast.DialLaunchResponse(!1):uE(C))},r7M=function(C,F,q){C.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(F)}`);
const p=new n3(F);return(new Promise(d=>{K4k(C,p,R=>{R?(pG(C.B,p),v5(C,p),nG(C,q)):g.Vs(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`));d(R)},5)})).then(d=>d?new chrome.cast.DialLaunchResponse(!1):uE(C))},K4k=function(C,F,q,p){g.ys(C.O);
C.O=0;DCM(C.B,F,d=>{d||p<0?q(d):C.O=g.H$(()=>{K4k(C,F,q,p-1)},300)})},sR8=function(C){wQ(C)&&C.V.getDialAppInfo(F=>{C.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(F)}`);
F=F.extraData||{};let q=null;F.loungeToken?C.J?.token==F.loungeToken&&(q="staleLoungeToken"):q="missingLoungeToken";q?nG(C,3E4):(fak(C,F.loungeToken),nG(C,F.loungeTokenRefreshIntervalMs))},F=>{C.info(`getDialAppInfo error: ${F}`);
nG(C,3E4)})},gI$=function(C){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(C)},c7w=function(C){const F=C.U.ul();
let q=C.J&&C.J.U;C=g.AP(F,function(p){q&&D1(p,q.label)&&(q=null);const d=p.uuid?p.uuid:p.id;let R=OeA(this,p);R?(R.label=d,R.friendlyName=p.name):(R=new chrome.cast.Receiver(d,p.name),R.receiverType=chrome.cast.ReceiverType.CUSTOM);return R},C);
q&&(q.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(q=new chrome.cast.Receiver(q.label,q.friendlyName),q.receiverType=chrome.cast.ReceiverType.CUSTOM),C.push(q));return C},DD=function(C){return C.L||!!C.V.length||!!C.J},Vp=function(C){Au("Controller",C)},NJ=function(C,F,q){F!=C.J&&(g.R9(C.J),(C.J=F)?(q?C.publish("yt-remote-cast2-receiver-resumed",F.U):C.publish("yt-remote-cast2-receiver-selected",F.U),F.subscribe("sessionScreen",(0,g.$l)(C.F9,C,F)),F.subscribe("sessionFailed",()=>Zei(C,F)),F.J?
C.publish("yt-remote-cast2-session-change",F.J):q&&C.J.S(null)):C.publish("yt-remote-cast2-session-change",null))},OeA=function(C,F){return F?g.gS(C.V,function(q){return D1(F,q.label)},C):null},Zei=function(C,F){C.J==F&&C.publish("yt-remote-cast2-session-failed")},EaZ=function(C,F,q,p){p.disableCastApi?lE("Cannot initialize because disabled by Mdx config."):He8()?Gp9(F,p)&&(fG(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?y7k(C,q):(window.__onGCastApiAvailable=function(d,R){d?y7k(C,q):(Tz("Failed to load cast API: "+
R),P5(!1),fG(!1),g.FJ("yt-remote-cast-available"),g.FJ("yt-remote-cast-receiver"),oaZ(),q(!1))},p.loadCastApiSetupScript?g.pg(kpA):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?hw()>=60&&P7i():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?sT():hw()>=89?a3i():(Bs(),m7(t_M.map(l3$))))):lE("Cannot initialize because not running Chrome")},oaZ=function(){lE("dispose");
const C=th();C&&C.dispose();g.ND("yt.mdx.remote.cloudview.instance_",null);W48(!1);g.F7(a4);a4.length=0},YQ=function(){return!!g.iD("yt-remote-cast-installed")},A7O=function(){const C=g.iD("yt-remote-cast-receiver");
return C?C.friendlyName:null},UCZ=function(){lE("clearCurrentReceiver");
g.FJ("yt-remote-cast-receiver")},QRy=function(){return YQ()?th()?th().getCastSession():(Tz("getCastSelector: Cast is not initialized."),null):(Tz("getCastSelector: Cast API is not installed!"),null)},eL=function(){YQ()?th()?bE()?(lE("Requesting cast selector."),th().requestSession()):(lE("Wait for cast API to be ready to request the session."),a4.push(g.Cg("yt-remote-cast2-api-ready",eL))):Tz("requestCastSelector: Cast is not initialized."):Tz("requestCastSelector: Cast API is not installed!")},$Q=
function(C,F){bE()?th().setConnectedScreenStatus(C,F):Tz("setConnectedScreenStatus called before ready.")},He8=function(){var C=g.dL().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.iT||C},M5A=function(C,F){th().init(C,F)},Gp9=function(C,F){let q=!1;
th()||(C=new hh(C,F),C.subscribe("yt-remote-cast2-availability-change",function(p){g.CT("yt-remote-cast-available",p);$1("yt-remote-cast2-availability-change",p)}),C.subscribe("yt-remote-cast2-receiver-selected",function(p){lE("onReceiverSelected: "+p.friendlyName);
g.CT("yt-remote-cast-receiver",p);$1("yt-remote-cast2-receiver-selected",p)}),C.subscribe("yt-remote-cast2-receiver-resumed",function(p){lE("onReceiverResumed: "+p.friendlyName);
g.CT("yt-remote-cast-receiver",p);$1("yt-remote-cast2-receiver-resumed",p)}),C.subscribe("yt-remote-cast2-session-change",function(p){lE("onSessionChange: "+Vw(p));
p||g.FJ("yt-remote-cast-receiver");$1("yt-remote-cast2-session-change",p)}),g.ND("yt.mdx.remote.cloudview.instance_",C),q=!0);
lE("cloudview.createSingleton_: "+q);return q},th=function(){return g.lz("yt.mdx.remote.cloudview.instance_")},y7k=function(C,F){P5(!0);
fG(!1);M5A(C,function(q){q?(W48(!0),g.qg("yt-remote-cast2-api-ready")):(Tz("Failed to initialize cast API."),P5(!1),g.FJ("yt-remote-cast-available"),g.FJ("yt-remote-cast-receiver"),oaZ());F(q)})},lE=function(C){Au("cloudview",C)},Tz=function(C){Au("cloudview",C)},P5=function(C){lE("setCastInstalled_ "+C);
g.CT("yt-remote-cast-installed",C)},bE=function(){return!!g.lz("yt.mdx.remote.cloudview.apiReady_")},W48=function(C){lE("setApiReady_ "+C);
g.ND("yt.mdx.remote.cloudview.apiReady_",C)},fG=function(C){g.ND("yt.mdx.remote.cloudview.initializing_",C)},m3=function(C){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.K=this.S=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.V=this.O=this.U=0;this.J=NaN;this.B=!1;this.reset(C)},sp=function(C){C.audioTrackId=null;
C.trackData=null;C.playerState=-1;C.hasPrevious=!1;C.hasNext=!1;C.S=0;C.K=g.mo();C.U=0;C.O=0;C.V=0;C.loadedTime=0;C.J=NaN;C.B=!1},B5=function(C){return C.isPlaying()?(g.mo()-C.K)/1E3:0},KG=function(C,F){C.S=F;
C.K=g.mo()},rQ=function(C){switch(C.playerState){case 1:case 1081:return(g.mo()-C.K)/1E3+C.S;
case -1E3:return 0}return C.S},L41=function(C){return C.B?C.O+B5(C):C.O},Op=function(C,F,q){const p=C.videoId;
C.videoId=F;C.index=q;F!=p&&sp(C)},c5=function(C){const F={};
F.index=C.index;F.listId=C.listId;F.videoId=C.videoId;F.playerState=C.playerState;F.volume=C.volume;F.muted=C.muted;F.audioTrackId=C.audioTrackId;F.trackData=g.Ak(C.trackData);F.hasPrevious=C.hasPrevious;F.hasNext=C.hasNext;F.playerTime=C.S;F.playerTimeAt=C.K;F.seekableStart=C.U;F.seekableEnd=C.O;F.duration=C.V;F.loadedTime=C.loadedTime;F.liveIngestionTime=C.J;return F},zCi=function(C){g.Eq("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(F){this.O.push(this.B.subscribe(F,g.hP(this.vj,F),this))},C)},ZD=function(C,F){C.U&&(C.U.removeUpdateListener(C.Y),C.U.removeMediaListener(C.W),C.S(null));
C.U=F;C.U&&(Uc("Setting cast session: "+C.U.sessionId),C.U.addUpdateListener(C.Y),C.U.addMediaListener(C.W),C.U.media.length&&C.S(C.U.media[0]))},H5=function(C){return new m3(C.B.getPlayerContextData())},Gz=function(C){return C.getState()==1},o4=function(C,F,q){return(0,g.$l)(function(p){this.Jz("Failed to "+F+" with cast v2 channel. Error code: "+p.code);
p.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.Jz("Retrying "+F+" using MDx browser channel."),yp(this,F,q))},C)},yp=function(C,F,q){C.B.sendMessage(F,q)},Ep=function(C,F,q){const p=H5(C);
KG(p,q);p.playerState!=-1E3&&(p.playerState=F);kQ(C,p)},W5=function(C,F){var q=C.K;
q.J.length+q.U.length<50&&C.K.enqueue(F)},kQ=function(C,F){xCO(C);
C.B.setPlayerContextData(c5(F));zCi(C)},xCO=function(C){g.Eq(C.O,function(F){this.B.unsubscribeByKey(F)},C);
C.O.length=0},ga$=function(C){const F=C.J.media,q=C.J.customData;
if(F&&q){var p=H5(C);F.contentId!=p.videoId&&Uc("Cast changing video to: "+F.contentId);p.videoId=F.contentId;p.playerState=q.playerState;KG(p,C.J.getEstimatedTime());kQ(C,p)}else Uc("No cast media video. Ignoring state update.")},Ia$=function(C){Ah("Channel opened");
C.jw&&(C.jw=!1,Up(C),C.Bj=g.H$(()=>{Ah("Timing out waiting for a screen.");C.O(1)},15E3))},SV2=function(C,F){F=F.message;
F.params?Ah("Received: action="+F.action+", params="+g.Yi(F.params)):Ah("Received: action="+F.action+" {}");switch(F.action){case "loungeStatus":F=X4(F.params.devices);C.V=g.AP(F,function(p){return new wU(p)});
F=!!g.gS(C.V,function(p){return p.type=="LOUNGE_SCREEN"});
jxH(C,F);F=C.Of("mlm");C.publish("multiStateLoopEnabled",F);break;case "loungeScreenDisconnected":g.RN(C.V,function(p){return p.type=="LOUNGE_SCREEN"});
jxH(C,!1);break;case "remoteConnected":let q=new wU(X4(F.params.device));g.gS(C.V,function(p){return p.equals(q)})||UmO(C.V,q);
break;case "remoteDisconnected":q=new wU(X4(F.params.device));g.RN(C.V,function(p){return p.equals(q)});
break;case "gracefulDisconnect":break;case "playlistModified":CQN(C,F,"QUEUE_MODIFIED");break;case "nowPlaying":ini(C,F);break;case "onStateChange":FL8(C,F);break;case "onAdStateChange":qV1(C,F);break;case "onVolumeChanged":pBO(C,F);break;case "onSubtitlesTrackChanged":dE$(C,F);break;case "nowAutoplaying":RG8(C,F);break;case "autoplayDismissed":C.publish("autoplayDismissed");break;case "autoplayUpNext":vh9(C,F);break;case "onAutoplayModeChanged":XBi(C,F);break;case "onHasPreviousNextChanged":JlN(C,
F);break;case "requestAssistedSignIn":C.publish("assistedSignInRequested",F.params.authCode);break;case "onLoopModeChanged":C.publish("loopModeChange",F.params.loopMode);break;default:Ah("Unrecognized action: "+F.action)}},Ah=function(C){Au("conn",C)},u5Z=function(C){C.S=g.H$(()=>{Ah("Connecting timeout");
C.O(1)},2E4)},Qp=function(C,F){C.publish("proxyStateChange",F)},MJ=function(C){g.ys(C.S);
C.S=NaN},LG=function(C){g.ys(C.bH);
C.bH=NaN},Up=function(C){g.ys(C.Bj);
C.Bj=NaN},wBO=function(C){return g.gS(C.V,function(F){return F.type=="LOUNGE_SCREEN"})},zz=function(C,F,q){q?Ah("Sending: action="+F+", params="+g.Yi(q)):Ah("Sending: action="+F);
C.U.sendMessage(F,q)},nh8=function(C){LG(C);
C.bH=g.H$(()=>{zz(C,"getNowPlaying")},2E4)},DEO=function(C){g.ys(C.Y);
C.Y=g.H$(()=>{C.O(1)},864E5)},jxH=function(C,F){var q=null;
if(F){const p=wBO(C);p&&(q={clientName:p.clientName,deviceMake:p.brand,deviceModel:p.model,osVersion:p.osVersion})}g.ND("yt.mdx.remote.remoteClient_",q);F&&(MJ(C),Up(C));q=C.U.Vi()&&isNaN(C.S);F==q?F&&(Qp(C,1),zz(C,"getSubtitlesTrack")):F?(C.ew()&&C.J.reset(),Qp(C,1),zz(C,"getNowPlaying"),DEO(C)):C.O(1)},dE$=function(C,F){const q=F.params.videoId;
delete F.params.videoId;q==C.J.videoId&&(g.yB(F.params)?C.J.trackData=null:C.J.trackData=F.params,C.publish("remotePlayerChange"))},CQN=function(C,F,q){const p=F.params.videoId||F.params.video_id,d=parseInt(F.params.currentIndex,10);
C.J.listId=F.params.listId||C.J.listId;Op(C.J,p,d);C.publish("remoteQueueChange",q)},FL8=function(C,F){var q=parseInt(F.params.currentTime||F.params.current_time,10);
KG(C.J,isNaN(q)?0:q);q=parseInt(F.params.state,10);q=isNaN(q)?-1:q;q==-1&&C.J.playerState==-1E3&&(q=-1E3);C.J.playerState=q;q=Number(F.params.loadedTime);C.J.loadedTime=isNaN(q)?0:q;C.J.uA(Number(F.params.duration));q=C.J;var p=Number(F.params.liveIngestionTime);q.J=p;q.B=isNaN(p)?!1:!0;q=C.J;p=Number(F.params.seekableStartTime);F=Number(F.params.seekableEndTime);q.U=isNaN(p)?0:p;q.O=isNaN(F)?0:F;C.J.playerState==1?nh8(C):LG(C);C.publish("remotePlayerChange")},ini=function(C,F){F.params=F.params||
{};
CQN(C,F,"NOW_PLAYING_MAY_CHANGE");FL8(C,F);C.publish("autoplayDismissed")},qV1=function(C,F){if(C.J.playerState!=-1E3){var q=1085;
switch(parseInt(F.params.adState,10)){case 1:q=1081;break;case 2:q=1084;break;case 0:q=1083}C.J.playerState=q;F=parseInt(F.params.currentTime,10);KG(C.J,isNaN(F)?0:F);C.publish("remotePlayerChange")}},pBO=function(C,F){const q=F.params.muted=="true";
C.J.volume=parseInt(F.params.volume,10);C.J.muted=q;C.publish("remotePlayerChange")},RG8=function(C,F){C.L=F.params.videoId;
C.publish("nowAutoplaying",parseInt(F.params.timeout,10))},vh9=function(C,F){C.L=F.params.videoId||null;
C.publish("autoplayUpNext",C.L)},XBi=function(C,F){C.K=F.params.autoplayMode;
C.publish("autoplayModeChange",C.K);C.K=="DISABLED"&&C.publish("autoplayDismissed")},JlN=function(C,F){const q=F.params.hasNext=="true";
C.J.hasPrevious=F.params.hasPrevious=="true";C.J.hasNext=q;C.publish("previousNextChange")},fAZ=function(C,F){wZN();
if(!eO||!eO.get("yt-remote-disable-remote-module-for-dev")){F=g.Z("MDX_CONFIG")||F;djw();Y1();xQ||(xQ=new ot(F?F.loungeApiHost:void 0),nt$()&&(xQ.J="/api/loungedev"));gQ||(gQ=g.lz("yt.mdx.remote.deferredProxies_")||[],g.ND("yt.mdx.remote.deferredProxies_",gQ));VC$();var q=I4();if(!q){const d=new qJ(xQ,F?F.disableAutomaticScreenCache||!1:!1);g.ND("yt.mdx.remote.screenService_",d);q=I4();var p={};F&&(p={appId:F.appId,disableDial:F.disableDial,theme:F.theme,loadCastApiSetupScript:F.loadCastApiSetupScript,
disableCastApi:F.disableCastApi,enableDialLoungeToken:F.enableDialLoungeToken,enableCastLoungeToken:F.enableCastLoungeToken,forceMirroring:F.forceMirroring});g.ND("yt.mdx.remote.enableConnectWithInitialState_",F?F.enableConnectWithInitialState||!1:!1);EaZ(C,d,function(R){R?jf()&&$Q(jf(),"YouTube TV"):d.subscribe("onlineScreenChange",function(){$1("yt-remote-receiver-availability-change")})},p)}F&&!g.lz("yt.mdx.remote.initialized_")&&(g.ND("yt.mdx.remote.initialized_",!0),Co("Initializing: "+g.Yi(F)),
iy.push(g.Cg("yt-remote-cast2-api-ready",function(){$1("yt-remote-api-ready")})),iy.push(g.Cg("yt-remote-cast2-availability-change",function(){$1("yt-remote-receiver-availability-change")})),iy.push(g.Cg("yt-remote-cast2-receiver-selected",function(){FD(null);
$1("yt-remote-auto-connect","cast-selector-receiver")})),iy.push(g.Cg("yt-remote-cast2-receiver-resumed",function(){$1("yt-remote-receiver-resumed","cast-selector-receiver")})),iy.push(g.Cg("yt-remote-cast2-session-change",N9N)),iy.push(g.Cg("yt-remote-connection-change",function(d){d?$Q(jf(),"YouTube TV"):q$()||($Q(null,null),UCZ())})),iy.push(g.Cg("yt-remote-cast2-session-failed",()=>{$1("yt-remote-connection-failed")})),C=po(),F.isAuto&&(C.id+="#dial"),p=F.capabilities||[],p.length>0&&(C.capabilities=
p),C.name=F.device,C.app=F.app,(F=F.theme)&&(C.theme=F),Co(" -- with channel params: "+g.Yi(C)),C?(g.CT("yt-remote-session-app",C.app),g.CT("yt-remote-session-name",C.name)):(g.FJ("yt-remote-session-app"),g.FJ("yt-remote-session-name")),g.ND("yt.mdx.remote.channelParams_",C),q.start(),jf()||lAZ())}},T9i=function(){var C=I4().bT.$_gos();
const F=dg();F&&Rn()&&(f3(C,F)||C.push(F));return pZi(C)},vX=function(){let C=PQw();
!C&&YQ()&&A7O()&&(C={key:"cast-selector-receiver",name:A7O()});return C},PQw=function(){const C=T9i();
let F=dg();F||(F=q$());return g.gS(C,function(q){return F&&D1(F,q.key)?!0:!1})},dg=function(){const C=jf();
if(!C)return null;const F=I4().Bf();return TS(F,C)},N9N=function(C){Co("remote.onCastSessionChange_: "+Vw(C));
if(C){var F=dg();if(F&&F.id==C.id){if($Q(F.id,"YouTube TV"),C.idType=="shortLived"&&(C=C.token))XD&&(XD.token=C),(F=Rn())&&F.AQ(C)}else F&&Jv(),Sf(C,1)}else Rn()&&Jv()},Jv=function(){bE()?th().stopSession():Tz("stopSession called before API ready.");
const C=Rn();C&&(C.disconnect(1),uy(null))},wg=function(){const C=Rn();
return!!C&&C.getProxyState()!=3},Co=function(C){Au("remote",C)},I4=function(){if(!no){const C=g.lz("yt.mdx.remote.screenService_");
no=C?new tCM(C):null}return no},jf=function(){return g.lz("yt.mdx.remote.currentScreenId_")},aAi=function(C){g.ND("yt.mdx.remote.currentScreenId_",C)},YVH=function(){return g.lz("yt.mdx.remote.connectData_")},FD=function(C){g.ND("yt.mdx.remote.connectData_",C)},Rn=function(){return g.lz("yt.mdx.remote.connection_")},uy=function(C){const F=Rn();
FD(null);C||aAi("");g.ND("yt.mdx.remote.connection_",C);gQ&&(g.Eq(gQ,function(q){q(C)}),gQ.length=0);
F&&!C?$1("yt-remote-connection-change",!1):!F&&C&&$1("yt-remote-connection-change",!0)},q$=function(){const C=g.qr();
if(!C)return null;var F=I4();if(!F)return null;F=F.Bf();return TS(F,C)},Sf=function(C,F){jf();
dg()&&dg();if(DG)XD=C;else{aAi(C.id);var q=g.lz("yt.mdx.remote.enableConnectWithInitialState_")||!1;C=new Vd(C,q);C.connect(F,YVH());C.subscribe("beforeDisconnect",function(p){$1("yt-remote-before-disconnect",p)});
C.subscribe("beforeDispose",function(){Rn()&&(Rn(),uy(null))});
C.subscribe("browserChannelAuthError",()=>{const p=dg();p&&p.idType=="shortLived"&&(bE()?th().handleBrowserChannelAuthError():Tz("refreshLoungeToken called before API ready."))});
uy(C)}},lAZ=function(){const C=q$();
C?(Co("Resume connection to: "+Vw(C)),Sf(C,0)):(bx(),UCZ(),Co("Skipping connecting because no session screen found."))},VC$=function(){var C=po();
if(g.yB(C)){C=aU();var F=g.iD("yt-remote-session-name")||"";const q=g.iD("yt-remote-session-app")||"";C={device:"REMOTE_CONTROL",id:C,name:F,app:q,mdxVersion:3};C.authuser=String(g.Z("SESSION_INDEX","0"));(F=g.Z("DELEGATED_SESSION_ID"))&&(C.pageId=String(F));g.ND("yt.mdx.remote.channelParams_",C)}},po=function(){return g.lz("yt.mdx.remote.channelParams_")||{}},bn$=function(C,F){if(N$(C)){C.Io.unsubscribe("remotePlayerChange",C.K,C);
const q=Math.round(F.volume);F=!!F.muted;const p=H5(C.Io);if(q!==p.volume||F!==p.muted)C.Io.setVolume(q,F),C.Y.start();C.Io.subscribe("remotePlayerChange",C.K,C)}},N$=function(C){return H5(C.Io).videoId===ly(C).videoId},fo=function(C,F){let q,p;
var d=C.N.getPlaylist();d?.listId&&(q=d.index,p=d.listId.toString());d=ly(C);C.Io.playVideo(d.videoId,F,q,p,d.playerParams,d.Y,Aiw(d));C.Uk(new g.DV(1))},TK=function(C,F){if(N$(C)&&!C.S){let q=null;
F&&(q={style:C.N.getSubtitlesUserSettings()},Object.assign(q,F));C.Io.L(ly(C).videoId,q);C.B=H5(C.Io).trackData}},eGO=function(C,F){if(F){const q=C.N.getOption("captions","tracklist",{J8:1});
q&&q.length?(C.N.setOption("captions","track",F),C.S=!1):(C.N.loadModule("captions"),C.S=!0)}else C.N.setOption("captions","track",{})},$EZ=function(C){C.Ok(0);
C.U.stop();C.Uk(new g.DV(64))},ly=function(C){return C.N.getVideoData({playerType:1})},hGi=function(C){const F=C.player.X();
return!F.A("mdx_enable_privacy_disclosure_ui")||C.isLoggedIn()||C.gz||!C.Um?!1:g.uu(F)||g.Dd(F)},mEi=function(C,F,q){C.lL=q;
C.player.publish("presentingplayerstatechange",new g.bf(q,F))},PX=function(C,F,...q){C.loaded&&C.uE.xR(F,...q)},tv=function(C){C.j1&&(C.player.removeEventListener("presentingplayerstatechange",C.j1),C.j1=null)},an=function(C,F){if(F.key!==C.gx.key)if(F.key===C.hn.key)Jv();
else if(hGi(C)&&sxw(C),C.gx=F,!g.QQ(C.player.X())){{const R=C.player.getPlaylistId();var q=C.player.getVideoData({playerType:1});const v=q.videoId;if(!R&&!v||(C.player.getAppState()===2||C.player.getAppState()===1)&&C.player.X().A("should_clear_video_data_on_player_cued_unstarted"))q=null;else{var p=C.player.getPlaylist();if(p){var d=[];for(let X=0;X<p.length;X++)d[X]=g.TO(p,X).videoId}else d=[v];p=C.player.getCurrentTime(1);C={videoIds:d,listId:R,videoId:v,playerParams:q.playerParams,clickTrackingParams:q.Y,
index:Math.max(C.player.getPlaylistIndex(),0),currentTime:p===0?void 0:p};(q=Aiw(q))&&(C.locationInfo=q);q=C}}Co("Connecting to: "+g.Yi(F));F.key=="cast-selector-receiver"?(FD(q||null),F=q||null,bE()?th().setLaunchParams(F):Tz("setLaunchParams called before ready.")):!q&&wg()&&jf()==F.key?$1("yt-remote-connection-change",!0):(Jv(),FD(q||null),q=I4().Bf(),(F=TS(q,F.key))&&Sf(F,1))}},sxw=function(C){C.player.getPlayerStateObject().isPlaying()?C.player.pauseVideo():(C.j1=F=>{!C.gz&&F.FQ(8)&&(C.player.pauseVideo(),
tv(C))},C.player.addEventListener("presentingplayerstatechange",C.j1));
C.Um&&C.Um.XM();Rn()||(DG=!0)};
g.UB.prototype.L3=g.iz(46,function(){this.app.Gr().L3()});
g.sZ.prototype.L3=g.iz(45,function(){this.b_=null});
g.UB.prototype.H7=g.iz(44,function(C){this.app.Gr().H7(C)});
g.sZ.prototype.H7=g.iz(43,function(C){this.b_=C});
g.Wj.prototype.zm=g.iz(1,function(){return g.iG(this,3)});
g.qy.prototype.zm=g.iz(0,function(){return g.iG(this,11)});
var O1k=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/channel/opened",g.Ke("channel_type"))}J(C){g.la(this.U,"/client_streamz/youtube/living_room/mdx/channel/opened",C)}},cn$=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/channel/closed",g.Ke("channel_type"))}J(C){g.la(this.U,"/client_streamz/youtube/living_room/mdx/channel/closed",C)}},H1N=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.Ke("channel_type"))}J(C){g.la(this.U,"/client_streamz/youtube/living_room/mdx/channel/message_received",C)}},Z1B=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/channel/success")}J(){g.la(this.U,"/client_streamz/youtube/living_room/mdx/channel/success")}},GQ9=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/channel/error",g.Ke("channel_type"),g.Ke("error_type"))}J(C,F){g.la(this.U,"/client_streamz/youtube/living_room/mdx/channel/error",
C,F)}},ynw=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}J(){g.la(this.U,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},oIO=class{constructor(){var C=g.zR();this.U=C;g.VZ(C,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}J(){g.la(this.U,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.a=SO.prototype;
g.a.ys=function(){ux(this);const C=[];for(let F=0;F<this.J.length;F++)C.push(this.U[this.J[F]]);return C};
g.a.Ua=function(){ux(this);return this.J.concat()};
g.a.has=function(C){return Jw(this.U,C)};
g.a.equals=function(C,F){if(this===C)return!0;if(this.size!=C.size)return!1;F=F||zZB;ux(this);let q;for(let p=0;q=this.J[p];p++)if(!F(this.get(q),C.get(q)))return!1;return!0};
g.a.isEmpty=function(){return this.size==0};
g.a.clear=function(){this.U={};this.bf=this.size=this.J.length=0};
g.a.remove=function(C){return this.delete(C)};
g.a.delete=function(C){return Jw(this.U,C)?(delete this.U[C],--this.size,this.bf++,this.J.length>2*this.size&&ux(this),!0):!1};
g.a.get=function(C,F){return Jw(this.U,C)?this.U[C]:F};
g.a.set=function(C,F){Jw(this.U,C)||(this.size+=1,this.J.push(C),this.bf++);this.U[C]=F};
g.a.forEach=function(C,F){const q=this.Ua();for(let p=0;p<q.length;p++){const d=q[p],R=this.get(d);C.call(F,R,d,this)}};
g.a.clone=function(){return new SO(this)};
g.a.keys=function(){return g.el(this.Y8(!0)).J()};
g.a.values=function(){return g.el(this.Y8(!1)).J()};
g.a.entries=function(){const C=this;return Ll$(this.keys(),function(F){return[F,C.get(F)]})};
g.a.Y8=function(C){ux(this);let F=0;const q=this.bf,p=this,d=new g.$t;d.next=function(){if(q!=p.bf)throw Error("The map has changed since the iterator was created");if(F>=p.J.length)return g.rF;const R=p.J[F++];return g.mw(C?R:p.U[R])};
return d};
var j9N={PB:"atp",Wt0:"ska",x1w:"que",Qx:"mus",CH9:"sus",Vl:"dsp",d1C:"seq",l5:"mic",yb:"dpa",zk:"mlm",Vb:"dsdtr",bx:"ntb",TBH:"vsp",d8:"scn",jk9:"rpe",Jf:"dcn",tf:"dcp",qb:"pas",US:"drq",K_:"opf",q9:"els",fl:"isg",u9w:"svq",RR:"mvp",Y4:"ads",soa:"stcp",wju:"sads",bS:"dloc",xi:"dcw",R9:"asw",zx:"apw",QY:"wrc",C_:"pcw",JN:"ipv",mH:"ndt",lr:"ctops",Ir:"gsrm"},C7y={uU1:"u",dJ:"cl",yx:"k",u7:"i",Ra:"cr",oR:"m",Cl:"g",SY:"up"},EIi={V5:"nowPlaying",Nb:"onStateChange",tv:"adPlaying",n_:"onAdStateChange",
BX:"nowPlayingShorts",cX:"onShortsStateChange"};wU.prototype.equals=function(C){return C?this.id==C.id:!1};
var tw="",eO=null,TfN=Dj$("loadCastFramework")||Dj$("loadCastApplicationFramework"),t_M=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.KB(K3,g.Xl);g.a=K3.prototype;g.a.Gi=function(C){this.B=arguments;this.J=!1;this.W4?this.V=g.mo()+this.Yg:this.W4=g.Sr(this.K,this.Yg)};
g.a.stop=function(){this.W4&&(g.VU.clearTimeout(this.W4),this.W4=null);this.V=null;this.J=!1;this.B=[]};
g.a.pause=function(){++this.U};
g.a.resume=function(){this.U&&(--this.U,!this.U&&this.J&&(this.J=!1,this.S.apply(null,this.B)))};
g.a.Vr=function(){this.stop();K3.XJ.Vr.call(this)};
g.a.MS=function(){this.W4&&(g.VU.clearTimeout(this.W4),this.W4=null);this.V?(this.W4=g.Sr(this.K,this.V-g.mo()),this.V=null):this.U?this.J=!0:(this.J=!1,this.S.apply(null,this.B))};var OT=null;rU.prototype.set=function(C){this.J=C};
rU.prototype.reset=function(){this.set(g.mo())};
rU.prototype.get=function(){return this.J};g.KB(bFB,Yj1);var Rt=class{stringify(C){return g.VU.JSON.stringify(C,void 0)}parse(C){return g.VU.JSON.parse(C,void 0)}};g.KB(cs,g.uQ);g.KB(Z1,g.uQ);var e6A=null;g.KB($j1,g.uQ);g.KB(h6O,g.uQ);g.KB(mjZ,g.uQ);k1.prototype.debug=function(){};
k1.prototype.info=function(){};
k1.prototype.warning=function(){};var cb1={},Mo={};g.a=ET.prototype;g.a.setTimeout=function(C){this.uH=C};
g.a.Li=function(C){C=C.target;const F=this.ew;F&&g.ZP(C)==3?F.B():this.ye(C)};
g.a.ye=function(C){try{if(C==this.J)a:{const d=g.ZP(this.J),R=this.J.U,v=this.J.getStatus();if(!(d<3)&&(d!=3||this.J&&(this.U.U||g.oY(this.J)||g.ki(this.J)))){this.jw||d!=4||R==7||(R==8||v<=0?GS(3):GS(2));L3(this);var F=this.J.getStatus();this.Rk=F;var q=OFN(this);if(this.S=F==200){if(this.Ik&&!this.vj){b:{if(this.J){const X=g.Wr(this.J,"X-HTTP-Initial-Response");if(X&&!g.C8(X)){var p=X;break b}}p=null}if(C=p)this.vj=!0,qK(this,C);else{this.S=!1;this.K=3;yw(12);UT(this);Qw(this);break a}}if(this.Bj){C=
!0;let X;for(;!this.jw&&this.O<q.length;)if(X=ZFZ(this,q),X==Mo){d==4&&(this.K=4,yw(14),C=!1);break}else if(X==cb1){this.K=4;yw(15);C=!1;break}else qK(this,X);rbA(this)&&this.O!=0&&(this.U.J=this.U.J.slice(this.O),this.O=0);d!=4||q.length!=0||this.U.U||(this.K=1,yw(16),C=!1);this.S=this.S&&C;C?q.length>0&&!this.H3&&(this.H3=!0,this.V.Sx(this)):(UT(this),Qw(this))}else qK(this,q);d==4&&UT(this);this.S&&!this.jw&&(d==4?GPy(this.V,this):(this.S=!1,Aw(this)))}else g.El(this.J),F==400&&q.indexOf("Unknown SID")>
0?(this.K=3,yw(12)):(this.K=0,yw(13)),UT(this),Qw(this)}}}catch(d){}finally{}};
g.a.cancel=function(){this.jw=!0;UT(this)};
g.a.uP=function(){this.F9=null;const C=Date.now();C-this.iH>=0?(this.g0!=2&&(GS(3),yw(17)),UT(this),this.K=2,Qw(this)):HF1(this,this.iH-C)};
g.a.getLastError=function(){return this.K};
g.a.Dj=function(){return this.J};var B99=class{constructor(C,F){this.J=C;this.map=F;this.context=null}};EtB.prototype.cancel=function(){this.V=p4(this);if(this.U)this.U.cancel(),this.U=null;else if(this.J&&this.J.size!==0){for(const C of this.J.values())C.cancel();this.J.clear()}};g.a=M_i.prototype;g.a.mD=8;g.a.Yb=1;g.a.connect=function(C,F,q,p){yw(0);this.GV=C;this.jw=F||{};q&&p!==void 0&&(this.jw.OSID=q,this.jw.OAID=p);this.ew=this.h_;this.N1=ybi(this,null,this.GV);Fw(this)};
g.a.disconnect=function(){Lw1(this);if(this.Yb==3){var C=this.Of++,F=this.N1.clone();g.Rk(F,"SID",this.B);g.Rk(F,"RID",C);g.Rk(F,"TYPE","terminate");Ju(this,F);C=new ET(this,this.B,C);C.g0=2;C.L=dU(F.clone());F=!1;if(g.VU.navigator&&g.VU.navigator.sendBeacon)try{F=g.VU.navigator.sendBeacon(C.L.toString(),"")}catch{}!F&&g.VU.Image&&((new Image).src=C.L,F=!0);F||(C.J=Kwi(C.V,null),C.J.send(C.L));C.JJ=Date.now();Aw(C)}CWk(this)};
g.a.Mm=function(){return this.Yb==0};
g.a.getState=function(){return this.Yb};
g.a.K4=function(C){if(this.S)if(this.S=null,this.Yb==1){if(!C){this.Of=Math.floor(Math.random()*1E5);C=this.Of++;const d=new ET(this,"",C);let R=this.W;this.Ik&&(R?(R=g.W1(R),g.QB(R,this.Ik)):R=this.Ik);this.O!==null||this.iH||(d.N1=R,R=null);if(this.Wj)a:{var F=0;for(var q=0;q<this.V.length;q++){b:{var p=this.V[q];if("__data__"in p.map&&(p=p.map.__data__,typeof p==="string")){p=p.length;break b}p=void 0}if(p===void 0)break;F+=p;if(F>4096){F=q;break a}if(F===4096||q===this.V.length-1){F=q+1;break a}}F=
this.XU}else F=this.XU;F=gtB(this,d,F);q=this.N1.clone();g.Rk(q,"RID",C);g.Rk(q,"CVER",22);this.Bj&&g.Rk(q,"X-HTTP-Session-Id",this.Bj);Ju(this,q);R&&(this.iH?F="headers="+g.Fj(g.wl(R))+"&"+F:this.O&&g.ny(q,this.O,R));iU(this.U,d);this.WJ&&g.Rk(q,"TYPE","init");this.Wj?(g.Rk(q,"$req",F),g.Rk(q,"SID","null"),d.Ik=!0,Ws(d,q,null)):Ws(d,q,F);this.Yb=2}}else this.Yb==3&&(C?I3w(this,C):this.V.length==0||Ww2(this.U)||I3w(this))};
g.a.xT=function(){this.L=null;jEZ(this);if(this.EW&&!(this.uH||this.J==null||this.Zv<=0)){var C=4*this.Zv;this.bH=oU((0,g.$l)(this.U_,this),C)}};
g.a.U_=function(){this.bH&&(this.bH=null,this.ew=!1,this.uH=!0,yw(10),gU(this),jEZ(this))};
g.a.Sx=function(C){this.J==C&&this.EW&&!this.uH&&(Xw(this),this.uH=!0,yw(11))};
g.a.Ti=function(){this.F9!=null&&(this.F9=null,gU(this),IU(this),yw(19))};
g.a.Uw=function(C){C?yw(2):yw(1)};
g.a.isActive=function(){return!!this.K&&this.K.isActive(this)};
g.a=FiB.prototype;g.a.kT=function(){};
g.a.gR=function(){};
g.a.n4=function(){};
g.a.jS=function(){};
g.a.isActive=function(){return!0};
g.a.wU=function(){};g.KB(uU,g.Kn);uU.prototype.open=function(){this.J.K=this.V;this.O&&(this.J.vj=!0);this.J.connect(this.S,this.U||void 0)};
uU.prototype.close=function(){this.J.disconnect()};
uU.prototype.send=function(C){var F=this.J;if(typeof C==="string"){var q={};q.__data__=C;C=q}else this.K&&(q={},q.__data__=g.Yi(C),C=q);F.V.push(new B99(F.kc++,C));F.Yb==3&&Fw(F)};
uU.prototype.Vr=function(){this.J.K=null;delete this.V;this.J.disconnect();delete this.J;uU.XJ.Vr.call(this)};
g.KB(pEN,cs);g.KB(duO,Z1);g.KB(SN,FiB);SN.prototype.kT=function(){this.J.dispatchEvent("m")};
SN.prototype.gR=function(C){this.J.dispatchEvent(new pEN(C))};
SN.prototype.n4=function(C){this.J.dispatchEvent(new duO(C))};
SN.prototype.jS=function(){this.J.dispatchEvent("n")};
uU.prototype.B=function(){return new wb(this,this.J)};
wb.prototype.U=function(){return jN(this.J.U)};
wb.prototype.V=function(){return i1k(this.J).map(C=>{var F=this.B;C=C.map;"__data__"in C?(C=C.__data__,F=F.K?QuB(C):C):F=C;return F})};
wb.prototype.commit=function(C){this.J.Rk=C};var DU=new g.Kn,RIy=class extends g.uQ{constructor(){super("statevent",DU)}};g.a=NK.prototype;g.a.nD=null;g.a.Rn=!1;g.a.rf=null;g.a.eA=null;g.a.Bi=null;g.a.m9=null;g.a.bR=null;g.a.yp=null;g.a.gN=null;g.a.Nw=null;g.a.KA=0;g.a.E9=null;g.a.x_=null;g.a.Dy=null;g.a.VJ=-1;g.a.Gs=!0;g.a.Ug=!1;g.a.v8=0;g.a.BA=null;var JnH={},Tv={};g.a=NK.prototype;g.a.setTimeout=function(C){this.U=C};
g.a.rU=function(C){C=C.target;const F=this.BA;F&&g.ZP(C)==3?F.B():this.SS(C)};
g.a.SS=function(C){try{if(C==this.Nw)a:{const F=g.ZP(this.Nw),q=this.Nw.U,p=this.Nw.getStatus();if(g.g$&&!g.TV("420+")){if(F<4)break a}else if(F<3||F==3&&!g.oY(this.Nw))break a;this.Ug||F!=4||q==7||(q==8||p<=0?this.J.Fy(3):this.J.Fy(2));wEy(this);const d=this.Nw.getStatus();this.VJ=d;const R=g.oY(this.Nw);if(this.Rn=d==200){F==4&&tu(this);if(this.Bj){for(C=!0;!this.Ug&&this.KA<R.length;){const v=Se2(this,R);if(v==Tv){F==4&&(this.Dy=4,VY(),C=!1);break}else if(v==JnH){this.Dy=4;VY();C=!1;break}else nI8(this,
v)}F==4&&R.length==0&&(this.Dy=1,VY(),C=!1);this.Rn=this.Rn&&C;C||(tu(this),P3(this))}else nI8(this,R);this.Rn&&!this.Ug&&(F==4?this.J.qq(this):(this.Rn=!1,f4(this)))}else this.Dy=d==400&&R.indexOf("Unknown SID")>0?3:0,VY(),tu(this),P3(this)}}catch(F){}finally{}};
g.a.cancel=function(){this.Ug=!0;tu(this)};
g.a.Df=function(){this.rf=null;const C=Date.now();C-this.eA>=0?(this.m9!=2&&this.J.Fy(3),tu(this),this.Dy=2,VY(),P3(this)):uKk(this,this.eA-C)};
g.a.getLastError=function(){return this.Dy};g.a=N4M.prototype;g.a.f7=null;g.a.zA=null;g.a.Z2=!1;g.a.dV=null;g.a.Ch=null;g.a.VS=-1;g.a.j0=null;g.a.Ln=null;g.a.connect=function(C){this.dV=C;C=YK(this.J,null,this.dV);VY();Date.now();const F=this.J.W;F!=null?(this.j0=F[0],(this.Ln=F[1])?(this.Ch=1,lvi(this)):(this.Ch=2,eN(this))):(RU(C,"MODE","init"),this.zA=new NK(this),this.zA.nD=this.f7,lU(this.zA,C,!1,null,!0),this.Ch=0)};
g.a.bG=function(C){if(C)this.Ch=2,eN(this);else{VY();var F=this.J;F.DB=F.jI.VS;Oc(F,9)}C&&this.Fy(2)};
g.a.E2=function(C){return this.J.E2(C)};
g.a.abort=function(){this.zA&&(this.zA.cancel(),this.zA=null);this.VS=-1};
g.a.Mm=function(){return!1};
g.a.hI=function(C,F){this.VS=C.VJ;if(this.Ch==0)if(F){try{var q=this.U.parse(F)}catch(p){C=this.J;C.DB=this.VS;Oc(C,2);return}this.j0=q[0];this.Ln=q[1]}else C=this.J,C.DB=this.VS,Oc(C,2);else this.Ch==2&&(this.Z2?(VY(),Date.now()):F=="11111"?(VY(),this.Z2=!0,Date.now(),this.VS=200,this.zA.cancel(),VY(),bU(this.J,this,!0)):(VY(),Date.now(),this.Z2=!1))};
g.a.qq=function(){this.VS=this.zA.VJ;if(this.zA.Rn)this.Ch==0?this.Ln?(this.Ch=1,lvi(this)):(this.Ch=2,eN(this)):this.Ch==2&&(this.Z2?(VY(),bU(this.J,this,!0)):(VY(),bU(this.J,this,!1)));else{this.Ch==0?VY():this.Ch==2&&VY();var C=this.J;this.zA.getLastError();C.DB=this.VS;Oc(C,2)}};
g.a.yJ=function(){return this.J.yJ()};
g.a.isActive=function(){return this.J.isActive()};
g.a.Fy=function(C){this.J.Fy(C)};g.a=$K.prototype;g.a.Z4=null;g.a.mR=null;g.a.UN=null;g.a.Z1=null;g.a.O2=null;g.a.nA=null;g.a.eS=null;g.a.Aj=null;g.a.xv=0;g.a.lP=0;g.a.zL=null;g.a.Qf=null;g.a.BC=null;g.a.aG=null;g.a.jI=null;g.a.zX=null;g.a.pU=-1;g.a.EQ=-1;g.a.DB=-1;g.a.lF=0;g.a.iF=0;g.a.NQ=8;var KL1={OK:0,a7c:2,Gk:4,y5:5,MM0:6,STOP:7,b6:8,tV:9,Ha:10,JV:11,o9:12};g.KB(T4$,g.uQ);g.KB(PW2,g.uQ);g.a=$K.prototype;
g.a.connect=function(C,F,q,p,d){VY();this.O2=F;this.mR=q||{};p&&d!==void 0&&(this.mR.OSID=p,this.mR.OAID=d);this.L?(n4((0,g.$l)(this.dK,this,C),100),tzZ(this)):this.dK(C)};
g.a.disconnect=function(){av1(this);if(this.J==3){var C=this.xv++;const F=this.nA.clone();g.Rk(F,"SID",this.B);g.Rk(F,"RID",C);g.Rk(F,"TYPE","terminate");K4(this,F);C=new NK(this,this.B,C);C.m9=2;C.bR=dU(F.clone());(new Image).src=C.bR.toString();C.Bi=Date.now();f4(C)}sE1(this)};
g.a.dK=function(C){this.jI=new N4M(this);this.jI.f7=this.Z4;this.jI.U=this.K;this.jI.connect(C)};
g.a.Mm=function(){return this.J==0};
g.a.getState=function(){return this.J};
g.a.qM=function(C){this.Qf=null;eIZ(this,C)};
g.a.f4=function(){this.BC=null;this.Z1=new NK(this,this.B,"rpc",this.O);this.Z1.nD=this.Z4;this.Z1.v8=0;var C=this.eS.clone();g.Rk(C,"RID","rpc");g.Rk(C,"SID",this.B);g.Rk(C,"CI",this.zX?"0":"1");g.Rk(C,"AID",this.pU);K4(this,C);g.Rk(C,"TYPE","xmlhttp");lU(this.Z1,C,!0,this.Aj,!1)};
g.a.hI=function(C,F){if(this.J!=0&&(this.Z1==C||this.UN==C))if(this.DB=C.VJ,this.UN==C&&this.J==3)if(this.NQ>7){try{var q=this.K.parse(F)}catch(p){q=null}if(Array.isArray(q)&&q.length==3)if(C=q,C[0]==0)a:{if(!this.BC){if(this.Z1)if(this.Z1.Bi+3E3<this.UN.Bi)mQ(this),this.Z1.cancel(),this.Z1=null;else break a;rb(this);VY()}}else this.EQ=C[1],0<this.EQ-this.pU&&C[2]<37500&&this.zX&&this.iF==0&&!this.aG&&(this.aG=n4((0,g.$l)(this.X0,this),6E3));else Oc(this,11)}else F!="y2f%"&&Oc(this,11);else if(this.Z1==
C&&mQ(this),!g.C8(F))for(C=this.K.parse(F),F=0;F<C.length;F++)q=C[F],this.pU=q[0],q=q[1],this.J==2?q[0]=="c"?(this.B=q[1],this.Aj=q[2],q=q[3],q!=null?this.NQ=q:this.NQ=6,this.J=3,this.zL&&this.zL.OQ(),this.eS=YK(this,this.yJ()?this.Aj:null,this.O2),$uM(this)):q[0]=="stop"&&Oc(this,7):this.J==3&&(q[0]=="stop"?Oc(this,7):q[0]!="noop"&&this.zL&&this.zL.AI(q),this.iF=0)};
g.a.X0=function(){this.aG!=null&&(this.aG=null,this.Z1.cancel(),this.Z1=null,rb(this),VY())};
g.a.qq=function(C){if(this.Z1==C){mQ(this);this.Z1=null;var F=2}else if(this.UN==C)this.UN=null,F=1;else return;this.DB=C.VJ;if(this.J!=0)if(C.Rn)if(F==1){F=C.gN?C.gN.length:0;C=Date.now()-C.Bi;var q=DU;q.dispatchEvent(new T4$(q,F,C,this.lF));hu(this);this.zL&&this.zL.GJ(this,this.V);this.V.length=0}else $uM(this);else{q=C.getLastError();var p;if(!(p=q==3||q==7||q==0&&this.DB>0)){if(p=F==1)this.UN||this.Qf||this.J==1||this.lF>=2?p=!1:(this.Qf=n4((0,g.$l)(this.qM,this,C),hIO(this,this.lF)),this.lF++,
p=!0);p=!(p||F==2&&rb(this))}if(p)switch(q){case 1:Oc(this,5);break;case 4:Oc(this,10);break;case 3:Oc(this,6);break;case 7:Oc(this,12);break;default:Oc(this,2)}}};
g.a.iP=function(C){if(!g.CZ(arguments,this.J))throw Error("Unexpected channel state: "+this.J);};
g.a.bV=function(C){C?VY():(VY(),muN(this,8))};
g.a.E2=function(C){if(C)throw Error("Can't create secondary domain capable XhrIo object.");C=new g.sl;C.O=!1;return C};
g.a.isActive=function(){return!!this.zL&&this.zL.isActive(this)};
g.a.Fy=function(C){const F=DU;F.dispatchEvent(new PW2(F,C))};
g.a.yJ=function(){return!1};
new bFB;g.a=B48.prototype;g.a.OQ=function(){};
g.a.AI=function(){};
g.a.GJ=function(){};
g.a.dR=function(){};
g.a.GI=function(){};
g.a.MM=function(){return{}};
g.a.isActive=function(){return!0};g.a=KiB.prototype;g.a.enqueue=function(C){this.U.push(C)};
g.a.isEmpty=function(){return this.J.length===0&&this.U.length===0};
g.a.clear=function(){this.J=[];this.U=[]};
g.a.contains=function(C){return g.CZ(this.J,C)||g.CZ(this.U,C)};
g.a.remove=function(C){{var F=this.J;const q=Array.prototype.lastIndexOf.call(F,C,F.length-1);q>=0?(g.pZ(F,q),F=!0):F=!1}return F||g.dw(this.U,C)};
g.a.ys=function(){const C=[];for(var F=this.J.length-1;F>=0;--F)C.push(this.J[F]);F=this.U.length;for(let q=0;q<F;++q)C.push(this.U[q]);return C};var rl$=class extends g.uQ{constructor(C){super("channelMessage");this.message=C}},OnZ=class extends g.uQ{constructor(C){super("channelError");this.error=C}};g.KB(c3,g.Xl);g.a=c3.prototype;g.a.LN=function(){this.retryCount++;this.Yg=Math.min(3E5,this.Yg*2);this.U();this.lD&&this.start()};
g.a.zm=function(){return this.retryCount};
g.a.start=function(){const C=this.Yg+15E3*Math.random();this.J.rd(C);this.lD=Date.now()+C};
g.a.stop=function(){this.J.stop();this.lD=0};
g.a.isActive=function(){return this.J.isActive()};
g.a.reset=function(){this.J.stop();this.retryCount=0;this.Yg=5E3};g.KB(ZU,B48);g.a=ZU.prototype;g.a.subscribe=function(C,F,q){return this.O.subscribe(C,F,q)};
g.a.unsubscribe=function(C,F,q){return this.O.unsubscribe(C,F,q)};
g.a.Wo=function(C){return this.O.Wo(C)};
g.a.publish=function(C,F){return this.O.publish.apply(this.O,arguments)};
g.a.dispose=function(){this.W||(this.W=!0,g.R9(this.O),this.disconnect(),g.R9(this.U),this.U=null,this.N1=()=>"",this.g0=()=>g.UV({}))};
g.a.q1=function(){return this.W};
g.a.connect=async function(C,F,q){try{this.L&&await this.K}finally{if(this.W||this.J&&this.J.getState()==2&&!this.V)return;this.Bj="";this.V||this.U.stop();this.Y=C||null;this.F9=F||0;const p=this.vj+"/test",d=this.vj+"/bind";C=new $K(q?q.firstTestResults:null,q?q.secondTestResults:null,this.Rk);const R=this.J;R&&(R.zL=null);C.zL=this;this.J=C;if(this.L)return this.K=Gv(this).then(()=>kQi(this,p,d,R,q)),this.K.then(()=>{this.K=g.UV()});
kQi(this,p,d,R,q)}};
g.a.disconnect=function(C){try{this.L&&(this.K.cancel(),this.K=g.UV())}finally{this.bH=C||0,this.U&&this.U.stop(),H3(this),this.J&&(this.J.getState()==3&&eIZ(this.J),this.J.disconnect()),this.bH=0}};
g.a.sendMessage=async function(C,F){try{this.L&&await this.K}finally{if(this.W)return;const q={_sc:C};F&&g.QB(q,F);if(this.U.isActive()||(this.J?this.J.getState():0)==2)this.B.push(q);else if(this.Vi())try{this.L&&!Wi1(this,C)&&await Gv(this)}finally{this.Vi()&&(Wi1(this,C),H3(this),sc(this.J,q))}}};
g.a.OQ=function(){this.S&&this.U&&this.U.zm()>0&&(this.S.BY1(this.U.zm(),this.V,!0),this.S.yza());this.S&&this.S.rP9();this.V?(this.U.stop(),g.R9(this.U),this.U=new c3(this.bc,this),this.V=!1):this.U.reset();this.Y=null;this.F9=0;if(this.B.length)if(this.L)AnB(this);else{var C=this.B;this.B=[];var F=C.length;for(let q=0;q<F;++q)sc(this.J,C[q]);yY(this);yY(this)}else yY(this)};
g.a.dR=function(C){var F=C==2&&this.J.DB==401;C==4||F||(this.V&&!this.U.isActive()&&(g.R9(this.U),this.U=new c3(this.bc,this),this.V=!1),this.U.start());this.publish("handlerError",C,F);F=Object.keys(KL1).find(q=>KL1[q]===C);
this.Of.J("BROWSER_CHANNEL",F??"UNKNOWN")};
g.a.GI=function(C,F){if(!this.U.isActive())this.publish("handlerClosed");else if(F){const q=F.length;for(let p=0;p<q;++p){const d=F[p].map;d&&this.B.push(d)}}this.ew.J("BROWSER_CHANNEL");C&&g.N_(this.t_.U,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",C.length);F&&g.N_(this.B3.U,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",F.length)};
g.a.GJ=function(C,F){F!=null&&C!=null&&this.iH.J()};
g.a.MM=function(){const C={v:2};this.Bj&&(C.gsessionid=this.Bj);this.F9!=0&&(C.ui=""+this.F9);this.bH!=0&&(C.ui=""+this.bH);this.Y&&g.QB(C,this.Y);return C};
g.a.AI=function(C){C[0]=="S"?this.Bj=C[1]:C[0]=="gracefulReconnect"?(this.U.start(),this.J.disconnect()):this.publish("handlerMessage",new rni(C[0],C[1]));this.Ta.J("BROWSER_CHANNEL")};
g.a.Vi=function(){return!!this.J&&this.J.getState()==3};
g.a.AQ=function(C){(this.JJ.loungeIdToken=C)||this.U.stop();if(this.H3&&this.J){const F=this.J.Z4||{};C?F["X-YouTube-LoungeId-Token"]=C:delete F["X-YouTube-LoungeId-Token"];this.J.Z4=F}};
g.a.getDeviceId=function(){return this.JJ.id};
g.a.wx=function(){return this.U.isActive()?this.U.lD-Date.now():NaN};
g.a.JM=function(){var C=this.U;g.FS(C.J);C.start()};
g.a.bc=function(){this.U.isActive();Yek(this.J)==0&&this.connect(this.Y,this.F9)};ot.prototype.sendRequest=function(C,F,q,p,d,R,v){C={format:R?"RAW":"JSON",method:C,context:this,timeout:5E3,withCredentials:!!v,onSuccess:g.hP(this.B,p,!R),onError:g.hP(this.V,d),onTimeout:g.hP(this.K,d)};q&&(C.postParams=q,C.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.Ld(F,C)};
ot.prototype.B=function(C,F,q,p){F?C(p):C({text:q.responseText})};
ot.prototype.V=function(C,F){C(Error("Request error: "+F.status))};
ot.prototype.K=function(C){C(Error("request timed out"))};var zIA=class extends g.Kn{constructor(C,F){super();this.handler=C();this.handler.subscribe("handlerOpened",this.J,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(q,p)=>{this.onError(p)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.U=F}connect(C,F,q){this.handler.connect(C,F,q)}disconnect(C){this.handler.disconnect(C)}JM(){this.handler.JM()}getDeviceId(){return this.handler.getDeviceId()}wx(){return this.handler.wx()}Vi(){return this.handler.Vi()}J(){this.dispatchEvent("channelOpened");var C=this.handler,F=this.U;g.CT("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!C.J.zX,sessionId:C.J.B,arrayId:C.J.pU});g.CT("yt-remote-session-screen-id",
F);C=Ps();F=aU();g.CZ(C,F)||C.push(F);vtN(C);Y1()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(C){this.dispatchEvent(new rl$(C))}onError(C){this.dispatchEvent(new OnZ(C?1:0))}sendMessage(C,F){this.handler.sendMessage(C,F)}AQ(C){this.handler.AQ(C)}dispose(){this.handler.dispose()}};var Li8=class{constructor(C,F,q=()=>""){new qeA;
var p=new g.Of;this.pathPrefix=C;this.J=F;this.JJ=q;this.K=p;this.L=null;this.W=this.O=0;this.channel=null;this.S=0;this.V=new c3(()=>{this.V.isActive();this.channel?.B().U()===0&&this.connect(this.L,this.O)});
this.B={};this.U={};this.F9=!1;this.logger=null;this.Y=[];this.Sm=void 0;this.N1=new O1k;this.bH=new cn$;this.jw=new H1N;this.Bj=new GQ9}connect(C={},F=0){this.S!==2&&(this.V.stop(),this.L=C,this.O=F,Ec(this),(C=g.Z("ID_TOKEN"))?this.B["x-youtube-identity-token"]=C:delete this.B["x-youtube-identity-token"],this.J&&(this.U.device=this.J.device,this.U.name=this.J.name,this.U.app=this.J.app,this.U.id=this.J.id,this.J.wS&&(this.U.mdxVersion=`${this.J.wS}`),this.J.theme&&(this.U.theme=this.J.theme),this.J.capabilities&&
(this.U.capabilities=this.J.capabilities),this.J.eB&&(this.U.cst=this.J.eB),this.J.authuser&&(this.U.authuser=this.J.authuser),this.J.pageId&&(this.U.pageId=this.J.pageId)),this.O!==0?this.U.ui=`${this.O}`:delete this.U.ui,Object.assign(this.U,this.L),this.channel=new uU(this.pathPrefix,{QQ:"gsessionid",l$:this.B,pI:this.U}),this.channel.open(),this.S=2,QEi(this))}disconnect(C=0){this.W=C;this.V.stop();Ec(this);this.channel&&(this.W!==0?this.U.ui=`${this.W}`:delete this.U.ui,this.channel.close());
this.W=0}wx(){return this.V.isActive()?this.V.lD-Date.now():NaN}JM(){var C=this.V;g.FS(C.J);C.start()}sendMessage(C,F){this.channel&&(Ec(this),this.channel.send({_sc:C,...F}))}AQ(C){C||this.V.stop();C?this.B["X-YouTube-LoungeId-Token"]=C:delete this.B["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.J?this.J.id:""}publish(C,...F){return this.K.publish(C,...F)}subscribe(C,F,q){return this.K.subscribe(C,F,q)}unsubscribe(C,F,q){return this.K.unsubscribe(C,F,q)}Wo(C){return this.K.Wo(C)}dispose(){this.F9||
(this.F9=!0,g.R9(this.K),this.disconnect(),g.R9(this.V),this.JJ=()=>"")}q1(){return this.F9}};var Mzk=class extends g.Kn{constructor(C){super();this.J=C();this.J.subscribe("webChannelOpened",this.U,this);this.J.subscribe("webChannelClosed",this.onClosed,this);this.J.subscribe("webChannelError",this.onError,this);this.J.subscribe("webChannelMessage",this.onMessage,this)}connect(C,F){this.J.connect(C,F)}disconnect(C){this.J.disconnect(C)}JM(){this.J.JM()}getDeviceId(){return this.J.getDeviceId()}wx(){return this.J.wx()}Vi(){return this.J.S===3}U(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(C){this.dispatchEvent(new rl$(C))}onError(){this.dispatchEvent(new OnZ(this.J.Sm===
401?1:0))}sendMessage(C,F){this.J.sendMessage(C,F)}AQ(C){this.J.AQ(C)}dispose(){this.J.dispose()}};var qs8=Date.now(),W3=null,MK=Array(50),QY=-1,L4=!1;g.KB(zv,g.qH);zv.prototype.Bf=function(){return this.screens};
zv.prototype.contains=function(C){return!!f3(this.screens,C)};
zv.prototype.get=function(C){return C?TS(this.screens,C):null};
zv.prototype.info=function(C){Au(this.S,C)};var ZnA=class extends g.qH{constructor(C,F,q,p,d){super();this.B=C;this.Y=F;this.L=q;this.F9=p;this.W=d;this.U=0;this.J=null;this.W4=NaN}start(){!this.J&&isNaN(this.W4)&&this.V()}stop(){this.J&&(this.J.abort(),this.J=null);isNaN(this.W4)||(g.ys(this.W4),this.W4=NaN)}Vr(){this.stop();super.Vr()}V(){this.W4=NaN;this.J=g.Ld(kK(this.B,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.Y},timeout:5E3,onSuccess:(0,g.$l)(this.S,this),onError:(0,g.$l)(this.K,this),onTimeout:(0,g.$l)(this.O,
this)})}S(C,F){this.J=null;C=F.screen||{};C.dialId=this.L;C.name=this.F9;F=-1;this.W&&C.shortLivedLoungeToken&&C.shortLivedLoungeToken.value&&C.shortLivedLoungeToken.refreshIntervalMs&&(C.screenIdType="shortLived",C.loungeToken=C.shortLivedLoungeToken.value,F=C.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new n3(C),F)}K(C){this.J=null;C.status&&C.status==404?this.U>=clB.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(C=clB[this.U],this.W4=g.H$((0,g.$l)(this.V,
this),C),this.U++):this.publish("pairingFailed",Error("Server error "+C.status))}O(){this.J=null;this.publish("pairingFailed",Error("Server not responding"))}},clB=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.KB(gb,zv);g.a=gb.prototype;g.a.start=function(){xK(this)&&this.publish("screenChange");!g.iD("yt-remote-lounge-token-expiration")&&va$(this);g.ys(this.J);this.J=g.H$((0,g.$l)(this.start,this),1E4)};
g.a.add=function(C,F){xK(this);pLB(this,C);It(this,!1);this.publish("screenChange");F(C);C.token||va$(this)};
g.a.remove=function(C,F){let q=xK(this);RC8(this,C)&&(It(this,!1),q=!0);F(C);q&&this.publish("screenChange")};
g.a.Wb=function(C,F,q,p){let d=xK(this);const R=this.get(C.id);R?(R.name!=F&&(R.name=F,It(this,!1),d=!0),q(C)):p(Error("no such local screen."));d&&this.publish("screenChange")};
g.a.Vr=function(){g.ys(this.J);gb.XJ.Vr.call(this)};
g.a.lU=function(C){xK(this);let F=this.screens.length;C=C&&C.screens||[];const q=C.length;for(let p=0;p<q;++p){const d=C[p],R=this.get(d.screenId);R&&(R.token=d.loungeToken,--F)}It(this,!F);F&&Au(this.S,"Missed "+F+" lounge tokens.")};
g.a.iU=function(C){Au(this.S,"Requesting lounge tokens failed: "+C)};var NY$=class extends g.qH{constructor(C,F){super();this.S=F;F=(F=g.iD("yt-remote-online-screen-ids")||"")?F.split(","):[];const q={},p=this.S(),d=p.length;for(let R=0;R<d;++R){const v=p[R].id;q[v]=g.CZ(F,v)}this.J=q;this.K=C;this.V=this.B=NaN;this.U=null;jL("Initialized with "+g.Yi(this.J))}start(){const C=parseInt(g.iD("yt-remote-fast-check-period")||"0",10);(this.B=g.mo()-144E5<C?0:C)?CG(this):(this.B=g.mo()+3E5,g.CT("yt-remote-fast-check-period",this.B),this.O())}isEmpty(){return g.yB(this.J)}update(){jL("Updating availability on schedule.");
const C=this.S(),F=g.e8(this.J,function(q,p){return q&&!!TS(C,p)},this);
iE(this,F)}Vr(){g.ys(this.V);this.V=NaN;this.U&&(this.U.abort(),this.U=null);super.Vr()}O(){g.ys(this.V);this.V=NaN;this.U&&this.U.abort();const C=J7A(this);if(vs(C)){var F=kK(this.K,"/pairing/get_screen_availability"),q={lounge_token:g.rw(C).join(",")};this.U=this.K.sendRequest("POST",F,q,(0,g.$l)(this.W,this,C),(0,g.$l)(this.L,this))}else iE(this,{}),CG(this)}W(C,F){this.U=null;var q=g.rw(J7A(this));if(g.tk(q,g.rw(C))){F=F.screens||[];q={};var p=F.length;for(let d=0;d<p;++d)q[C[F[d].loungeToken]]=
F[d].status=="online";iE(this,q);CG(this)}else this.Jz("Changing Screen set during request."),this.O()}L(C){this.Jz("Screen availability failed: "+C);this.U=null;CG(this)}Jz(C){Au("OnlineScreenService",C)}};g.KB(qJ,zv);g.a=qJ.prototype;g.a.start=function(){this.U.start();this.J.start();this.screens.length&&(this.publish("screenChange"),this.J.isEmpty()||this.publish("onlineScreenChange"))};
g.a.add=function(C,F,q){this.U.add(C,F,q)};
g.a.remove=function(C,F,q){this.U.remove(C,F,q);this.J.update()};
g.a.Wb=function(C,F,q,p){this.U.contains(C)?this.U.Wb(C,F,q,p):(C="Updating name of unknown screen: "+C.name,Au(this.S,C),p(Error(C)))};
g.a.Bf=function(C){return C?this.screens:g.v1(this.screens,g.Wz(this.V,function(F){return!this.contains(F)},this))};
g.a.ul=function(){return g.Wz(this.Bf(!0),function(C){return!!this.J.J[C.id]},this)};
g.a.L4=function(C,F,q,p,d,R){this.info("getDialScreenByPairingCode "+C+" / "+F);const v=new ZnA(this.B,C,F,q,p);v.subscribe("pairingComplete",(X,J)=>{g.R9(v);d(pG(this,X),J)});
v.subscribe("pairingFailed",X=>{g.R9(v);R(X)});
v.start();return(0,g.$l)(v.stop,v)};
g.a.Ci=function(C,F,q,p){g.Ld(kK(this.B,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:C},timeout:5E3,onSuccess:(0,g.$l)(function(d,R){d=new n3(R.screen||{});if(!d.name||naB(this,d.name)){a:{R=d.name;let v=2,X=F(R,v);for(;naB(this,X);){v++;if(v>20)break a;X=F(R,v)}R=X}d.name=R}q(pG(this,d))},this),
onError:(0,g.$l)(function(d){p(Error("pairing request failed: "+d.status))},this),
onTimeout:(0,g.$l)(function(){p(Error("pairing request timed out."))},this)})};
g.a.Vr=function(){g.R9(this.U);g.R9(this.J);qJ.XJ.Vr.call(this)};
g.a.Ze=function(){V5M(this);this.publish("screenChange");this.J.update()};
qJ.prototype.dispose=qJ.prototype.dispose;g.KB(R4,g.qH);g.a=R4.prototype;g.a.uN=function(C){this.q1()||(C&&(X3(this,""+C),this.publish("sessionFailed")),this.J=null,this.publish("sessionScreen",null))};
g.a.info=function(C){Au(this.Bj,C)};
g.a.TJ=function(){return null};
g.a.JA=function(C){const F=this.U;C?(F.displayStatus=new chrome.cast.ReceiverDisplayStatus(C,[]),F.displayStatus.showStop=!0):F.displayStatus=null;chrome.cast.setReceiverDisplayStatus(F,(0,g.$l)(function(){this.info("Updated receiver status for "+F.friendlyName+": "+C)},this),(0,g.$l)(function(){X3(this,"Failed to update receiver status for: "+F.friendlyName)},this))};
g.a.Vr=function(){this.JA("");R4.XJ.Vr.call(this)};var YE=class extends R4{constructor(C,F,q){super(C,F,"CastSession");this.config_=q;this.V=null;this.Y=(0,g.$l)(this.N1,this);this.JJ=(0,g.$l)(this.g0,this);this.F9=g.H$(()=>{PhB(this,null)},12E4);
this.L=this.K=this.O=this.W=0}bH(C){if(this.V){if(this.V==C)return;X3(this,"Overriding cast session with new session object");t5A(this);this.V.removeUpdateListener(this.Y);this.V.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.JJ)}this.V=C;this.V.addUpdateListener(this.Y);this.V.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.JJ);aaO(this,"getMdxSessionStatus")}S(C){this.info("launchWithParams no-op for Cast: "+g.Yi(C))}stop(){this.V?this.V.stop((0,g.$l)(function(){this.uN()},
this),(0,g.$l)(function(){this.uN(Error("Failed to stop receiver app."))},this)):this.uN(Error("Stopping cast device without session."))}JA(){}Vr(){this.info("disposeInternal");
t5A(this);this.V&&(this.V.removeUpdateListener(this.Y),this.V.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.JJ));this.V=null;super.Vr()}g0(C,F){if(!this.q1())if(F)if(F=X4(F),g.Yl(F))switch(C=""+F.type,F=F.data||{},this.info("onYoutubeMessage_: "+C+" "+g.Yi(F)),C){case "mdxSessionStatus":PhB(this,F);break;case "loungeToken":Ysy(this,F);break;default:X3(this,"Unknown youtube message: "+C)}else X3(this,"Unable to parse message.");else X3(this,"No data in message.")}jw(C,F,q,p){g.ys(this.W);
this.W=0;wL8(this.B,this.U.label,C,this.U.friendlyName,(0,g.$l)(function(d){d?F(d):p>=0?(X3(this,"Screen "+C+" appears to be offline. "+p+" retries left."),this.W=g.H$((0,g.$l)(this.jw,this,C,F,q,p-1),300)):q(Error("Unable to fetch screen."))},this),q)}TJ(){return this.V}N1(C){this.q1()||C||(X3(this,"Cast session died."),this.uN())}};var Hnw=class extends R4{constructor(C,F,q,p){super(C,F,"DialSession");this.config_=p;this.V=this.W=null;this.JJ="";this.g0=q;this.N1=null;this.Y=()=>{};
this.F9=NaN;this.jw=(0,g.$l)(this.vj,this);this.K=()=>{};
this.L=this.O=0}bH(C){this.V=C;this.V.addUpdateListener(this.jw)}S(C){this.N1=C;this.Y()}stop(){mCA(this);this.V?this.V.stop((0,g.$l)(this.uN,this,null),(0,g.$l)(this.uN,this,"Failed to stop DIAL device.")):this.uN()}Vr(){mCA(this);this.V&&this.V.removeUpdateListener(this.jw);this.V=null;super.Vr()}vj(C){this.q1()||C||(X3(this,"DIAL session died."),this.K(),this.K=()=>{},this.uN())}};var Gf8=class extends R4{constructor(C,F){super(C,F,"ManualSession");this.V=g.H$((0,g.$l)(this.S,this,null),150)}stop(){this.uN()}bH(){}S(){g.ys(this.V);this.V=NaN;const C=TS(this.B.Bf(),this.U.label);C?v5(this,C):this.uN(Error("No such screen"))}Vr(){g.ys(this.V);this.V=NaN;super.Vr()}};var hh=class extends g.qH{constructor(C,F){super();this.config_=F;this.U=C;this.bH=F.appId||"233637DE";this.B=F.theme||"cl";this.Bj=F.disableCastApi||!1;this.O=F.forceMirroring||!1;this.J=null;this.L=!1;this.V=[];this.S=(0,g.$l)(this.N1,this)}init(C,F){chrome.cast.timeout.requestSession=3E4;var q=new chrome.cast.SessionRequest(this.bH,[chrome.cast.Capability.AUDIO_OUT]);g.E1("desktop_enable_cast_connect")&&(q.androidReceiverCompatible=!0);this.Bj||(q.dialRequest=new chrome.cast.DialRequest("YouTube"));
const p=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;C=C||this.O?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const d=(0,g.$l)(this.g0,this);q=new chrome.cast.ApiConfig(q,(0,g.$l)(this.W,this),d,p,C);q.customDialLaunchCallback=(0,g.$l)(this.jw,this);chrome.cast.initialize(q,(0,g.$l)(function(){this.q1()||(chrome.cast.addReceiverActionListener(this.S),Ch2(),this.U.subscribe("onlineScreenChange",(0,g.$l)(this.K,this)),this.V=c7w(this),chrome.cast.setCustomReceivers(this.V,
()=>{},(0,g.$l)(function(R){this.Jz("Failed to set initial custom receivers: "+g.Yi(R))},this)),this.publish("yt-remote-cast2-availability-change",DD(this)),F(!0))},this),(0,g.$l)(function(R){this.Jz("Failed to initialize API: "+g.Yi(R));
F(!1)},this))}ew(C,F){Vp("Setting connected screen ID: "+C+" -> "+F);
if(this.J){var q=this.J.J;if(!C||q&&q.id!=C)Vp("Unsetting old screen status: "+this.J.U.friendlyName),NJ(this,null)}if(C&&F){if(!this.J){C=TS(this.U.Bf(),C);if(!C){Vp("setConnectedScreenStatus: Unknown screen.");return}if(C.idType=="shortLived"){Vp("setConnectedScreenStatus: Screen with id type to be short lived.");return}q=OeA(this,C);q||(Vp("setConnectedScreenStatus: Connected receiver not custom..."),q=new chrome.cast.Receiver(C.uuid?C.uuid:C.id,C.name),q.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.V.push(q),chrome.cast.setCustomReceivers(this.V,()=>{},(0,g.$l)(function(p){this.Jz("Failed to set initial custom receivers: "+g.Yi(p))},this)));
Vp("setConnectedScreenStatus: new active receiver: "+q.friendlyName);NJ(this,new Gf8(this.U,q),!0)}this.J.JA(F)}else Vp("setConnectedScreenStatus: no screen.")}Of(C){this.q1()?this.Jz("Setting connection data on disposed cast v2"):this.J?this.J.S(C):this.Jz("Setting connection data without a session")}JJ(){this.q1()?this.Jz("Stopping session on disposed cast v2"):this.J?(this.J.stop(),NJ(this,null)):Vp("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.$l)(this.W,this),
(0,g.$l)(this.vj,this))}Vr(){this.U.unsubscribe("onlineScreenChange",(0,g.$l)(this.K,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.S);var C=gI$;const F=g.lz("yt.mdx.remote.debug.handlers_");g.dw(F||[],C);g.R9(this.J);super.Vr()}Jz(C){Au("Controller",C)}F9(C,F){this.J==C&&(F||NJ(this,null),this.publish("yt-remote-cast2-session-change",F))}N1(C,F){if(!this.q1())if(C)switch(C.friendlyName=chrome.cast.unescape(C.friendlyName),Vp("onReceiverAction_ "+C.label+" / "+C.friendlyName+
"-- "+F),F){case chrome.cast.ReceiverAction.CAST:if(this.J)if(this.J.U.label!=C.label)Vp("onReceiverAction_: Stopping active receiver: "+this.J.U.friendlyName),this.J.stop();else{Vp("onReceiverAction_: Casting to active receiver.");this.J.J&&this.publish("yt-remote-cast2-session-change",this.J.J);break}switch(C.receiverType){case chrome.cast.ReceiverType.CUSTOM:NJ(this,new Gf8(this.U,C));break;case chrome.cast.ReceiverType.DIAL:NJ(this,new Hnw(this.U,C,this.B,this.config_));break;case chrome.cast.ReceiverType.CAST:NJ(this,
new YE(this.U,C,this.config_));break;default:this.Jz("Unknown receiver type: "+C.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.J&&this.J.U.label==C.label?this.J.stop():this.Jz("Stopping receiver w/o session: "+C.friendlyName)}else this.Jz("onReceiverAction_ called without receiver.")}jw(C){if(this.q1())return Promise.reject(Error("disposed"));var F=C.receiver;F.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.Jz("Not DIAL receiver: "+F.friendlyName),F.receiverType=chrome.cast.ReceiverType.DIAL);
var q=this.J?this.J.U:null;if(!q||q.label!=F.label)return this.Jz("Receiving DIAL launch request for non-clicked DIAL receiver: "+F.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(q&&q.label==F.label&&q.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.J.J)return Vp("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.J.J),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.Jz('Changing CAST intent from "'+q.receiverType+'" to "dial" for '+F.friendlyName);
NJ(this,new Hnw(this.U,F,this.B,this.config_))}F=this.J;F.W=C;F.W.appState==chrome.cast.DialAppState.RUNNING?(C=F.W.extraData||{},q=C.screenId||null,wQ(F)&&C.loungeToken?C.loungeTokenRefreshIntervalMs?C=r7M(F,{name:F.U.friendlyName,screenId:C.screenId,loungeToken:C.loungeToken,dialId:F.W.receiver.label,screenIdType:"shortLived"},C.loungeTokenRefreshIntervalMs):(g.Vs(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(C)}.`)),C=BYA(F,q)):C=BYA(F,q)):C=uE(F);return C}W(C){if(!this.q1()&&
!this.O){Vp("New cast session ID: "+C.sessionId);var F=C.receiver;if(F.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.J)if(F.receiverType==chrome.cast.ReceiverType.CAST)Vp("Got resumed cast session before resumed mdx connection."),F.friendlyName=chrome.cast.unescape(F.friendlyName),NJ(this,new YE(this.U,F,this.config_),!0);else{this.Jz("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var q=this.J.U,p=TS(this.U.Bf(),q.label);p&&D1(p,F.label)&&q.receiverType!=
chrome.cast.ReceiverType.CAST&&F.receiverType==chrome.cast.ReceiverType.CAST&&(Vp("onSessionEstablished_: manual to cast session change "+F.friendlyName),g.R9(this.J),this.J=new YE(this.U,F,this.config_),this.J.subscribe("sessionScreen",(0,g.$l)(this.F9,this,this.J)),this.J.subscribe("sessionFailed",()=>Zei(this,this.J)),this.J.S(null));
this.J.bH(C)}}}Y(){return this.J?this.J.TJ():null}vj(C){this.q1()||(this.Jz("Failed to estabilish a session: "+g.Yi(C)),C.code!=chrome.cast.ErrorCode.CANCEL&&NJ(this,null),this.publish("yt-remote-cast2-session-failed"))}g0(C){Vp("Receiver availability updated: "+C);if(!this.q1()){var F=DD(this);this.L=C==chrome.cast.ReceiverAvailability.AVAILABLE;DD(this)!=F&&this.publish("yt-remote-cast2-availability-change",DD(this))}}K(){this.q1()||(this.V=c7w(this),Vp("Updating custom receivers: "+g.Yi(this.V)),
chrome.cast.setCustomReceivers(this.V,()=>{},(0,g.$l)(function(){this.Jz("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",DD(this)))}};
hh.prototype.setLaunchParams=hh.prototype.Of;hh.prototype.setConnectedScreenStatus=hh.prototype.ew;hh.prototype.stopSession=hh.prototype.JJ;hh.prototype.getCastSession=hh.prototype.Y;hh.prototype.requestSession=hh.prototype.requestSession;hh.prototype.init=hh.prototype.init;hh.prototype.dispose=hh.prototype.dispose;var a4=[],kpA=(0,g.cG)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.a=m3.prototype;
g.a.reset=function(C){this.listId="";this.index=-1;this.videoId="";sp(this);this.volume=-1;this.muted=!1;C&&(this.index=C.index,this.listId=C.listId,this.videoId=C.videoId,this.playerState=C.playerState,this.volume=C.volume,this.muted=C.muted,this.audioTrackId=C.audioTrackId,this.trackData=C.trackData,this.hasPrevious=C.hasPrevious,this.hasNext=C.hasNext,this.S=C.playerTime,this.K=C.playerTimeAt,this.U=C.seekableStart,this.O=C.seekableEnd,this.V=C.duration,this.loadedTime=C.loadedTime,this.J=C.liveIngestionTime,
this.B=!isNaN(this.J))};
g.a.isPlaying=function(){return this.playerState==1};
g.a.isBuffering=function(){return this.playerState==3};
g.a.uA=function(C){this.V=isNaN(C)?0:C};
g.a.getDuration=function(){return this.B?this.V+B5(this):this.V};
g.a.clone=function(){return new m3(c5(this))};var ylk=class extends g.qH{constructor(){var C=Rn();super();this.V=0;this.B=C;this.O=[];this.K=new KiB;this.U=this.J=null;this.Y=(0,g.$l)(this.N1,this);this.W=(0,g.$l)(this.S,this);this.F9=(0,g.$l)(this.jw,this);this.Bj=(0,g.$l)(this.g0,this);let F=0;C?(F=C.getProxyState(),F!=3&&(C.subscribe("proxyStateChange",this.bH,this),zCi(this))):F=3;F!=0&&g.H$(()=>{this.bH(F)},0);
(C=QRy())&&ZD(this,C);this.subscribe("yt-remote-cast2-session-change",this.Bj)}getState(){return this.V}wx(){return this.B.getReconnectTimeout()}JM(){this.B.reconnect()}play(){Gz(this)?(this.J?this.J.play(null,g.$7,o4(this,"play")):yp(this,"play"),Ep(this,1,rQ(H5(this))),this.publish("remotePlayerChange")):W5(this,this.play)}pause(){Gz(this)?(this.J?this.J.pause(null,g.$7,o4(this,"pause")):yp(this,"pause"),Ep(this,2,rQ(H5(this))),this.publish("remotePlayerChange")):W5(this,this.pause)}seekTo(C){if(Gz(this)){if(this.J){const F=
H5(this),q=new chrome.cast.media.SeekRequest;q.currentTime=C;F.isPlaying()||F.isBuffering()?q.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:q.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.J.seek(q,g.$7,o4(this,"seekTo",{newTime:C}))}else yp(this,"seekTo",{newTime:C});Ep(this,3,C);this.publish("remotePlayerChange")}else W5(this,g.hP(this.seekTo,C))}stop(){if(Gz(this)){this.J?this.J.stop(null,g.$7,o4(this,"stopVideo")):yp(this,"stopVideo");var C=H5(this);C.index=-1;C.videoId=
"";sp(C);kQ(this,C);this.publish("remotePlayerChange")}else W5(this,this.stop)}setVolume(C,F){if(Gz(this)){var q=H5(this);if(this.U){if(q.volume!=C){const p=Math.round(C)/100;this.U.setReceiverVolumeLevel(p,(0,g.$l)(function(){Uc("set receiver volume: "+p)},this),(0,g.$l)(function(){this.Jz("failed to set receiver volume.")},this))}q.muted!=F&&this.U.setReceiverMuted(F,(0,g.$l)(function(){Uc("set receiver muted: "+F)},this),(0,g.$l)(function(){this.Jz("failed to set receiver muted.")},this))}else{const p=
{volume:C,
muted:F};q.volume!=-1&&(p.delta=C-q.volume);yp(this,"setVolume",p)}q.muted=F;q.volume=C;kQ(this,q)}else W5(this,g.hP(this.setVolume,C,F))}L(C,F){if(Gz(this)){var q=H5(this);C={videoId:C};F&&(q.trackData={trackName:F.name,languageCode:F.languageCode,sourceLanguageCode:F.translationLanguage?F.translationLanguage.languageCode:"",languageName:F.languageName,kind:F.kind},C.style=g.Yi(F.style),g.QB(C,q.trackData));yp(this,"setSubtitlesTrack",C);kQ(this,q)}else W5(this,g.hP(this.L,C,F))}setAudioTrack(C,
F){Gz(this)?(F=F.getLanguageInfo().getId(),yp(this,"setAudioTrack",{videoId:C,audioTrackId:F}),C=H5(this),C.audioTrackId=F,kQ(this,C)):W5(this,g.hP(this.setAudioTrack,C,F))}playVideo(C,F,q,p=null,d=null,R=null,v=null){const X=H5(this),J={videoId:C};q!==void 0&&(J.currentIndex=q);Op(X,C,q||0);F!==void 0&&(KG(X,F),J.currentTime=F);p&&(J.listId=p);d&&(J.playerParams=d);R&&(J.clickTrackingParams=R);v&&(J.locationInfo=g.Yi(v));yp(this,"setPlaylist",J);p||kQ(this,X)}Gp(C,F){if(Gz(this)){if(C&&F){const q=
H5(this);Op(q,C,F);kQ(this,q)}yp(this,"previous")}else W5(this,g.hP(this.Gp,C,F))}nextVideo(C,F){if(Gz(this)){if(C&&F){const q=H5(this);Op(q,C,F);kQ(this,q)}yp(this,"next")}else W5(this,g.hP(this.nextVideo,C,F))}KE(){if(Gz(this)){yp(this,"clearPlaylist");var C=H5(this);C.reset();kQ(this,C);this.publish("remotePlayerChange")}else W5(this,this.KE)}JJ(){Gz(this)?yp(this,"dismissAutoplay"):W5(this,this.JJ)}dispose(){if(this.V!=3){const C=this.V;this.V=3;this.publish("proxyStateChange",C,this.V)}super.dispose()}Vr(){xCO(this);
this.B=null;this.K.clear();ZD(this,null);super.Vr()}bH(C){if((C!=this.V||C==2)&&this.V!=3&&C!=0){var F=this.V;this.V=C;this.publish("proxyStateChange",F,C);if(C==1)for(;!this.K.isEmpty();)F=C=this.K,F.J.length===0&&(F.J=F.U,F.J.reverse(),F.U=[]),C.J.pop().apply(this);else C==3&&this.dispose()}}vj(C,F){this.publish(C,F)}N1(C){if(!C)this.S(null),ZD(this,null);else if(this.U.receiver.volume){C=this.U.receiver.volume;const F=H5(this),q=Math.round(100*C.level||0);if(F.volume!=q||F.muted!=C.muted)Uc("Cast volume update: "+
C.level+(C.muted?" muted":"")),F.volume=q,F.muted=!!C.muted,kQ(this,F)}}S(C){Uc("Cast media: "+!!C);this.J&&this.J.removeUpdateListener(this.F9);if(this.J=C)this.J.addUpdateListener(this.F9),ga$(this),this.publish("remotePlayerChange")}jw(C){C?(ga$(this),this.publish("remotePlayerChange")):this.S(null)}uh(){yp(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}g0(){const C=QRy();C&&ZD(this,C)}Jz(C){Au("CP",C)}};var Vd=class extends g.qH{constructor(C,F=!1){var q=xQ,p=po();super();this.S=NaN;this.jw=!1;this.Y=this.F9=this.bH=this.Bj=NaN;this.JJ=[];this.K=this.L=this.B=this.J=this.U=null;this.Ta=q;this.vj=F;this.JJ.push(g.QG(window,"beforeunload",()=>{this.O(2)}));
this.V=[];this.J=new m3;this.iH=C.id;this.g0=C.idType;this.U=xuA(this.Ta,p,this.N1,this.g0=="shortLived",this.iH);this.U.listen("channelOpened",()=>{Ia$(this)});
this.U.listen("channelClosed",()=>{Ah("Channel closed");isNaN(this.S)?bx(!0):bx();this.dispose()});
this.U.listen("channelError",d=>{bx();isNaN(this.W())?(d==1&&this.g0=="shortLived"&&this.publish("browserChannelAuthError",d),Ah(`Channel error: ${d} without reconnection`),this.dispose()):(this.jw=!0,Ah("Channel error: "+d+" with reconnection in "+this.W()+" ms"),Qp(this,2))});
this.U.listen("channelMessage",d=>{SV2(this,d)});
this.U.AQ(C.token);this.subscribe("remoteQueueChange",()=>{var d=this.J.videoId;g.qr()&&g.CT("yt-remote-session-video-id",d)})}connect(C,F){if(F){var q=F.listId;
const p=F.videoId,d=F.videoIds,R=F.playerParams,v=F.clickTrackingParams,X=F.index,J={videoId:p},S=F.currentTime,u=F.locationInfo;F=F.loopMode;S!==void 0&&(J.currentTime=S<=5?0:S);R&&(J.playerParams=R);u&&(J.locationInfo=u);v&&(J.clickTrackingParams=v);q&&(J.listId=q);d&&d.length>0&&(J.videoIds=d.join(","));X!==void 0&&(J.currentIndex=X);this.vj&&(J.loopMode=F||"LOOP_MODE_OFF");q&&(this.J.listId=q);this.J.videoId=p;this.J.index=X||0;this.J.state=3;KG(this.J,S);this.K="UNSUPPORTED";q=this.vj?"setInitialState":
"setPlaylist";Ah(`Connecting with ${q} and params: ${g.Yi(J)}`);this.U.connect({method:q,params:g.Yi(J)},C,XZO())}else Ah("Connecting without params"),this.U.connect({},C,XZO());u5Z(this)}AQ(C){this.U.AQ(C)}dispose(){this.q1()||(g.ND("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),Qp(this,3));super.dispose()}Vr(){MJ(this);LG(this);Up(this);g.ys(this.F9);this.F9=NaN;g.ys(this.Y);this.Y=NaN;this.B=null;g.MM(this.JJ);this.JJ.length=0;this.U.dispose();super.Vr();this.K=this.L=this.V=
this.J=this.U=null}Of(C){if(!this.V||this.V.length===0)return!1;for(const F of this.V)if(!F.capabilities.has(C))return!1;return!0}H3(){let C=3;this.q1()||(C=0,isNaN(this.W())?this.U.Vi()&&isNaN(this.S)&&(C=1):C=2);return C}O(C){Ah("Disconnecting with "+C);g.ND("yt.mdx.remote.remoteClient_",null);MJ(this);this.publish("beforeDisconnect",C);C==1&&bx();this.U.disconnect(C);this.dispose()}Ik(){let C=this.J;this.B&&(C=this.J.clone(),Op(C,this.B,C.index));return c5(C)}B3(C){const F=new m3(C);F.videoId&&
F.videoId!=this.J.videoId&&(this.B=F.videoId,g.ys(this.F9),this.F9=g.H$(()=>{if(this.B){const p=this.B;this.B=null;this.J.videoId!=p&&zz(this,"getNowPlaying")}},5E3));
const q=[];this.J.listId==F.listId&&this.J.videoId==F.videoId&&this.J.index==F.index||q.push("remoteQueueChange");this.J.playerState==F.playerState&&this.J.volume==F.volume&&this.J.muted==F.muted&&rQ(this.J)==rQ(F)&&g.Yi(this.J.trackData)==g.Yi(F.trackData)||q.push("remotePlayerChange");this.J.reset(C);g.Eq(q,function(p){this.publish(p)},this)}ew(){const C=this.U.getDeviceId(),F=g.gS(this.V,function(q){return q.type=="REMOTE_CONTROL"&&q.id!=C});
return F?F.id:""}W(){return this.U.wx()}Wj(){return this.K||"UNSUPPORTED"}Rk(){return this.L||""}uH(){!isNaN(this.W())&&this.U.JM()}t_(C,F){zz(this,C,F);DEO(this)}N1(){var C=g.wP("SAPISID","")||g.wP("__Secure-1PAPISID")||"",F=g.wP("__Secure-3PAPISID","")||"";if(!C&&!F)return"";C=g.s6(g.$o(C),2);F=g.s6(g.$o(F),2);return g.s6(g.$o(`,${C},${F}`),2)}};Vd.prototype.subscribe=Vd.prototype.subscribe;Vd.prototype.unsubscribeByKey=Vd.prototype.Wo;Vd.prototype.getProxyState=Vd.prototype.H3;
Vd.prototype.disconnect=Vd.prototype.O;Vd.prototype.getPlayerContextData=Vd.prototype.Ik;Vd.prototype.setPlayerContextData=Vd.prototype.B3;Vd.prototype.getOtherConnectedRemoteId=Vd.prototype.ew;Vd.prototype.getReconnectTimeout=Vd.prototype.W;Vd.prototype.getAutoplayMode=Vd.prototype.Wj;Vd.prototype.getAutoplayVideoId=Vd.prototype.Rk;Vd.prototype.reconnect=Vd.prototype.uH;Vd.prototype.sendMessage=Vd.prototype.t_;Vd.prototype.getXsrfToken=Vd.prototype.N1;
Vd.prototype.isCapabilitySupportedOnConnectedDevices=Vd.prototype.Of;var tCM=class extends zv{constructor(C){super("ScreenServiceProxy");this.bT=C;this.J=[];this.J.push(this.bT.$_s("screenChange",(0,g.$l)(this.U,this)));this.J.push(this.bT.$_s("onlineScreenChange",(0,g.$l)(this.V,this)))}Bf(C){return this.bT.$_gs(C)}contains(C){return!!this.bT.$_c(C)}get(C){return this.bT.$_g(C)}start(){this.bT.$_st()}add(C,F,q){this.bT.$_a(C,F,q)}remove(C,F,q){this.bT.$_r(C,F,q)}Wb(C,F,q,p){this.bT.$_un(C,F,q,p)}Vr(){const C=this.J.length;for(let F=0;F<C;++F)this.bT.$_ubk(this.J[F]);
this.J.length=0;this.bT=null;super.Vr()}U(){this.publish("screenChange")}V(){this.publish("onlineScreenChange")}};qJ.prototype.$_st=qJ.prototype.start;qJ.prototype.$_gspc=qJ.prototype.Ci;qJ.prototype.$_gsppc=qJ.prototype.L4;qJ.prototype.$_c=qJ.prototype.contains;qJ.prototype.$_g=qJ.prototype.get;qJ.prototype.$_a=qJ.prototype.add;qJ.prototype.$_un=qJ.prototype.Wb;qJ.prototype.$_r=qJ.prototype.remove;qJ.prototype.$_gs=qJ.prototype.Bf;qJ.prototype.$_gos=qJ.prototype.ul;qJ.prototype.$_s=qJ.prototype.subscribe;
qJ.prototype.$_ubk=qJ.prototype.Wo;var XD=null,DG=!1,xQ=null,gQ=null,no=null,iy=[];var oh9=class extends g.Xl{constructor(C,F,q){super();this.J=C;this.N=F;this.Io=q;this.events=new g.C9(this);this.S=!1;this.L=new g.DV(64);this.U=new g.i4(this.N1,500,this);this.V=new g.i4(this.g0,1E3,this);this.F9=new K3(this.iH,0,this);this.B={};this.Y=new g.i4(this.ew,1E3,this);this.W=new g.jJ(this.seekTo,1E3,this);this.Of=this.events.D(this.N,"onVolumeChange",p=>{bn$(this,p)});
g.b(this,this.events);this.events.D(F,"onCaptionsTrackListChanged",this.uH);this.events.D(F,"captionschanged",this.Ta);this.events.D(F,"captionssettingschanged",this.vj);this.events.D(F,"videoplayerreset",this.O);this.events.D(F,"mdxautoplaycancel",()=>{this.Io.JJ()});
F.A("enable_mdx_video_play_directly")&&this.events.D(F,"videodatachange",()=>{hGi(this.J)||N$(this)||fo(this,0)});
C=this.Io;C.q1();C.subscribe("proxyStateChange",this.jw,this);C.subscribe("remotePlayerChange",this.K,this);C.subscribe("remoteQueueChange",this.O,this);C.subscribe("previousNextChange",this.Bj,this);C.subscribe("nowAutoplaying",this.bH,this);C.subscribe("autoplayDismissed",this.JJ,this);g.b(this,this.U);g.b(this,this.V);g.b(this,this.F9);g.b(this,this.Y);g.b(this,this.W);this.vj();this.O();this.K()}Vr(){super.Vr();this.U.stop();this.V.stop();this.F9.stop();const C=this.Io;C.unsubscribe("proxyStateChange",
this.jw,this);C.unsubscribe("remotePlayerChange",this.K,this);C.unsubscribe("remoteQueueChange",this.O,this);C.unsubscribe("previousNextChange",this.Bj,this);C.unsubscribe("nowAutoplaying",this.bH,this);C.unsubscribe("autoplayDismissed",this.JJ,this);this.Io=this.J=null}xR(C,...F){if(this.Io.V!=2)if(N$(this)){if(H5(this.Io).playerState!=1081||C!=="control_seek")switch(C){case "control_toggle_play_pause":H5(this.Io).isPlaying()?this.Io.pause():this.Io.play();break;case "control_play":this.Io.play();
break;case "control_pause":this.Io.pause();break;case "control_seek":this.W.B(F[0],F[1]);break;case "control_subtitles_set_track":TK(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}else switch(C){case "control_toggle_play_pause":case "control_play":case "control_pause":C=this.N.getCurrentTime();fo(this,C===0?void 0:C);break;case "control_seek":fo(this,F[0]);break;case "control_subtitles_set_track":TK(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}Ta(C){this.F9.Gi(C)}iH(C){this.xR("control_subtitles_set_track",
g.yB(C)?null:C)}vj(){const C=this.N.getOption("captions","track");g.yB(C)||TK(this,C)}Ok(C){this.J.Ok(C,this.N.getVideoData().lengthSeconds)}uH(){g.yB(this.B)||eGO(this,this.B);this.S=!1}jw(C,F){this.V.stop();F===2&&this.g0()}K(){if(N$(this)){this.U.stop();var C=H5(this.Io);switch(C.playerState){case 1080:case 1081:case 1084:case 1085:this.J.tL=1;break;case 1082:case 1083:this.J.tL=0;break;default:this.J.tL=-1}switch(C.playerState){case 1081:case 1:this.Uk(new g.DV(8));this.N1();break;case 1085:case 3:this.Uk(new g.DV(9));
break;case 1083:case 0:this.Uk(new g.DV(2));this.W.stop();this.Ok(this.N.getVideoData().lengthSeconds);break;case 1084:this.Uk(new g.DV(4));break;case 2:this.Uk(new g.DV(4));this.Ok(rQ(C));break;case -1:this.Uk(new g.DV(64));break;case -1E3:this.Uk(new g.DV(128,{errorCode:"mdx.remoteerror",errorMessage:"\u05d4\u05e1\u05e8\u05d8\u05d5\u05df \u05d4\u05d6\u05d4 \u05dc\u05d0 \u05d6\u05de\u05d9\u05df \u05dc\u05d4\u05e4\u05e2\u05dc\u05d4 \u05de\u05e8\u05d7\u05d5\u05e7.",Rz:2}))}const q=H5(this.Io).trackData;
C=q;var F=this.B;(C||F?C&&F&&C.trackName==F.trackName&&C.languageCode==F.languageCode&&C.languageName==F.languageName&&C.kind==F.kind:1)||(this.B=q,eGO(this,q));C=H5(this.Io);C.volume===-1||Math.round(this.N.getVolume())===C.volume&&this.N.isMuted()===C.muted||this.Y.isActive()||this.ew()}else $EZ(this)}Bj(){this.N.publish("mdxpreviousnextchange")}O(){N$(this)||$EZ(this)}bH(C){isNaN(C)||this.N.publish("mdxnowautoplaying",C)}JJ(){this.N.publish("mdxautoplaycanceled")}setAudioTrack(C){N$(this)&&this.Io.setAudioTrack(ly(this).videoId,
C)}seekTo(C,F){H5(this.Io).playerState===-1?fo(this,C):F&&this.Io.seekTo(C)}ew(){if(N$(this)){var C=H5(this.Io);this.events.AP(this.Of);C.muted?this.N.mute():this.N.unMute();this.N.setVolume(C.volume);this.Of=this.events.D(this.N,"onVolumeChange",F=>{bn$(this,F)})}}N1(){this.U.stop();
if(!this.Io.q1()){var C=H5(this.Io);C.isPlaying()&&this.Uk(new g.DV(8));this.Ok(rQ(C));this.U.start()}}g0(){this.V.stop();this.U.stop();const C=this.Io.wx();this.Io.V==2&&!isNaN(C)&&this.V.start()}Uk(C){this.V.stop();const F=this.L;if(!g.P9(F,C)){const q=C.J(2);q!==this.L.J(2)&&this.N.vr(q);this.L=C;mEi(this.J,F,C)}}};var kfi=class extends g.hT{constructor(C,F){super(C);this.J=F}getCurrentTime(){return this.J.getCurrentTime()}getDuration(){return this.J.getDuration()}Np(){return this.J.Np()}UU(){return this.J.UU()}Vm(){return this.J.Vm()}Mn(){return this.J.Mn()}getPlayerState(){return this.J.lL}isAtLiveHead(){return this.J.isAtLiveHead()}pauseVideo(){PX(this.J,"control_pause")}async playVideo(){PX(this.J,"control_play")}seekTo(C,F){PX(this.J,"control_seek",C,!F?.O$)}fU(C){PX(this.J,"control_set_audio_track",C);
return!0}};var Ehy=class extends g.z{constructor(){super({j:"div",G:"ytp-mdx-popup-dialog",C:{role:"dialog"},Z:[{j:"div",G:"ytp-mdx-popup-dialog-inner-content",Z:[{j:"div",G:"ytp-mdx-popup-title",Uf:"\u05dc\u05d0 \u05e0\u05db\u05e0\u05e1\u05ea \u05dc\u05d7\u05e9\u05d1\u05d5\u05df"},{j:"div",G:"ytp-mdx-popup-description",Uf:"\u05e1\u05e8\u05d8\u05d5\u05e0\u05d9\u05dd \u05e9\u05e6\u05e4\u05d9\u05ea \u05d1\u05d4\u05dd \u05e2\u05e9\u05d5\u05d9\u05d9\u05dd \u05dc\u05d4\u05ea\u05d5\u05d5\u05e1\u05e3 \u05dc\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d9\u05ea \u05d4\u05e6\u05e4\u05d9\u05d9\u05d4 \u05d1\u05de\u05db\u05e9\u05d9\u05e8 \u05d4\u05d8\u05dc\u05d5\u05d5\u05d9\u05d6\u05d9\u05d4 \u05d5\u05dc\u05d4\u05e9\u05e4\u05d9\u05e2 \u05e2\u05dc \u05d4\u05de\u05dc\u05e6\u05d5\u05ea \u05d4\u05e6\u05e4\u05d9\u05d9\u05d4 \u05d1\u05d8\u05dc\u05d5\u05d5\u05d9\u05d6\u05d9\u05d4. \u05db\u05d3\u05d9 \u05dc\u05d4\u05d9\u05de\u05e0\u05e2 \u05de\u05db\u05da, \u05e6\u05e8\u05d9\u05da \u05dc\u05d1\u05d8\u05dc \u05d5\u05dc\u05d4\u05d9\u05db\u05e0\u05e1 \u05dc-YouTube \u05d1\u05de\u05d7\u05e9\u05d1."},
{j:"div",G:"ytp-mdx-privacy-popup-buttons",Z:[{j:"button",hJ:["ytp-button","ytp-mdx-privacy-popup-cancel"],Uf:"\u05d1\u05d9\u05d8\u05d5\u05dc"},{j:"button",hJ:["ytp-button","ytp-mdx-privacy-popup-confirm"],Uf:"\u05d0\u05d9\u05e9\u05d5\u05e8"}]}]}]});this.fade=new g.b2(this,250);this.cancelButton=this.yr("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.yr("ytp-mdx-privacy-popup-confirm");g.b(this,this.fade);this.D(this.cancelButton,"click",this.J);this.D(this.confirmButton,"click",this.U)}XM(){this.fade.show()}A_(){this.fade.hide()}J(){$1("mdx-privacy-popup-cancel");
this.A_()}U(){$1("mdx-privacy-popup-confirm");this.A_()}};var WLw=class extends g.z{constructor(C){super({j:"div",G:"ytp-remote",Z:[{j:"div",G:"ytp-remote-display-status",Z:[{j:"div",G:"ytp-remote-display-status-icon",Z:[g.jEB()]},{j:"div",G:"ytp-remote-display-status-text",Uf:"{{statustext}}"}]}]});this.api=C;this.fade=new g.b2(this,250);g.b(this,this.fade);this.D(C,"presentingplayerstatechange",this.onStateChange);this.MZ(C.getPlayerStateObject())}onStateChange(C){this.MZ(C.state)}MZ(C){if(this.api.getPresentingPlayerType()===3){const F={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};C=C.J(128)?g.fm("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1-$RECEIVER_NAME",F):C.isPlaying()||C.isPaused()?g.fm("\u05de\u05d5\u05e4\u05e2\u05dc \u05d1-$RECEIVER_NAME",F):g.fm("\u05de\u05d7\u05d5\u05d1\u05e8 \u05dc-$RECEIVER_NAME",F);this.updateValue("statustext",C);this.fade.show()}else this.fade.hide()}};var Al1=class extends g.DZ{constructor(C,F){super("\u05d4\u05e6\u05d2\u05d4 \u05d1-",1,C,F);this.N=C;this.dO={};this.D(C,"onMdxReceiversChange",this.S);this.D(C,"presentingplayerstatechange",this.S);this.S()}S(){var C=this.N.getOption("remote","receivers");C&&C.length>1&&!this.N.getOption("remote","quickCast")?(this.dO=g.Y$(C,this.K,this),this.B(g.AP(C,this.K)),C=this.N.getOption("remote","currentReceiver"),C=this.K(C),this.options[C]&&this.U(C),this.enable(!0)):this.enable(!1)}K(C){return C.key}V(C){return C===
"cast-selector-receiver"?"\u05d4\u05e4\u05e2\u05dc\u05ea Cast":this.dO[C].name}J(C){super.J(C);this.N.setOption("remote","currentReceiver",this.dO[C]);this.UW.A_()}};g.aq("remote",class extends g.ln{constructor(C){super(C);this.hn={key:lx(),name:"\u05d4\u05de\u05d7\u05e9\u05d1 \u05d4\u05d6\u05d4"};this.uE=null;this.subscriptions=[];this.BD=this.Io=null;this.dO=[this.hn];this.gx=this.hn;this.lL=new g.DV(64);this.ER=0;this.tL=-1;this.gz=!1;this.b_=this.j1=this.Um=null;if(!g.xU(this.player.X())&&!g.QQ(this.player.X())){C=this.player;var F=g.d5(C);F&&(F=F.qd())&&(F=new Al1(C,F),g.b(this,F));F=new WLw(C);g.b(this,F);g.f0(C,F.element,4);this.Um=new Ehy;g.b(this,this.Um);
g.f0(C,this.Um.element,4);this.gz=!!q$()}}create(){var C=this.player.X();const F=g.ID(C);C={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:C.A("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:C.A("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:C.A("enable_cast_short_lived_lounge_token")};fAZ(F,C);this.subscriptions.push(g.Cg("yt-remote-before-disconnect",this.b8,this));this.subscriptions.push(g.Cg("yt-remote-connection-change",this.KN,this));this.subscriptions.push(g.Cg("yt-remote-receiver-availability-change",
this.Oc,this));this.subscriptions.push(g.Cg("yt-remote-auto-connect",this.xK,this));this.subscriptions.push(g.Cg("yt-remote-receiver-resumed",this.mF,this));this.subscriptions.push(g.Cg("mdx-privacy-popup-confirm",this.tO,this));this.subscriptions.push(g.Cg("mdx-privacy-popup-cancel",this.JO,this));this.Oc()}load(){this.player.cancelPlayback();super.load();this.b_=new kfi(this.player.X(),this);this.player.H7(this.b_);this.uE=new oh9(this,this.player,this.Io);var C=(C=YVH())?C.currentTime:0;const F=
wg()?new ylk:null;C==0&&F&&(C=rQ(H5(F)));C!==0&&this.Ok(C);mEi(this,this.lL,this.lL);this.player.pw(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.L3();this.gx=this.hn;g.vZ(this.uE,this.Io);this.Io=this.b_=this.uE=null;super.unload();this.player.pw(5);tv(this)}Vr(){g.F7(this.subscriptions);super.Vr()}getAdState(){return this.tL}hasPrevious(){return this.Io?H5(this.Io).hasPrevious:!1}hasNext(){return this.Io?H5(this.Io).hasNext:!1}Ok(C,F){this.ER=C||0;this.player.publish("progresssync",
C,F);g.iP(this.player,"onVideoProgress",C||0)}getCurrentTime(){return this.ER}getDuration(){return H5(this.Io).getDuration()||0}Np(){var C=H5(this.Io);return C.B?C.J+B5(C):C.J}UU(){return H5(this.Io).loadedTime}Vm(){return L41(H5(this.Io))}Mn(){var C=H5(this.Io);return C.U>0?C.U+B5(C):C.U}getProgressState(){const C=H5(this.Io),F=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:C.playerState!=1081&&this.player.Lm(),clipEnd:F.clipEnd,clipStart:F.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.Np(),isAtLiveHead:this.isAtLiveHead(),loaded:this.UU(),seekableEnd:this.Vm(),seekableStart:this.Mn(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return L41(H5(this.Io))-this.getCurrentTime()<=1}nextVideo(){this.Io&&this.Io.nextVideo()}Gp(){this.Io&&this.Io.Gp()}b8(C){C===1&&(this.BD=this.Io?H5(this.Io):null)}KN(){var C=wg()?new ylk:null;if(C){const F=this.gx;this.loaded&&this.unload();this.Io=C;this.BD=null;F.key!==this.hn.key&&
(this.gx=F,this.load())}else g.R9(this.Io),this.Io=null,this.loaded&&(this.unload(),(C=this.BD)&&C.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(C.videoId,rQ(C)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}Oc(){var C=[this.hn],F=C.concat;const q=T9i();YQ()&&g.iD("yt-remote-cast-available")&&q.push({key:"cast-selector-receiver",name:"Cast..."});this.dO=F.call(C,q);C=vX()||this.hn;an(this,C);g.iP(this.player,"onMdxReceiversChange")}xK(){const C=
vX();an(this,C)}mF(){this.gx=vX()}tO(){this.gz=!0;tv(this);DG=!1;XD&&Sf(XD,1);XD=null}JO(){this.gz=!1;tv(this);an(this,this.hn);this.gx=this.hn;DG=!1;XD=null;this.player.playVideo()}Q1(C,F){switch(C){case "casting":return this.loaded;case "receivers":return this.dO;case "currentReceiver":return F&&(F.key==="cast-selector-receiver"?eL():an(this,F)),this.loaded?this.gx:this.hn;case "quickCast":return this.dO.length===2&&this.dO[1].key==="cast-selector-receiver"?(F&&eL(),!0):!1}}uh(){this.Io.uh()}ML(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.Z("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.Z("SESSION_INDEX")&&!g.Z("LOGGED_IN"))}});})(_yt_player);
